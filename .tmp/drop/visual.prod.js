var powerbi;
(function (powerbi) {
    var extensibility;
    (function (extensibility) {
        var visual;
        (function (visual) {
            var PBI_CV_E67F6187_8266_4C40_822B_369EDD127725;
            (function (PBI_CV_E67F6187_8266_4C40_822B_369EDD127725) {
                var nonAcceptedNodes = [
                    'META',
                ];
                var injectorCounter = 0;
                function ResetInjector() {
                    injectorCounter = 0;
                }
                PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.ResetInjector = ResetInjector;
                function injectorReady() {
                    return injectorCounter == 0;
                }
                PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.injectorReady = injectorReady;
                function ParseElement(el, target) {
                    //  debugger;
                    var arr = [];
                    var nodes = el.children;
                    for (var i = 0; i < nodes.length; i++) {
                        if (nonAcceptedNodes.indexOf(nodes.item(i).nodeName) != -1) {
                            continue;
                        }
                        var tempNode = void 0;
                        if (nodes.item(i).nodeName.toLowerCase() == 'script') {
                            tempNode = createScriptNode(nodes.item(i));
                        }
                        else {
                            tempNode = nodes.item(i).cloneNode(true);
                        }
                        target.appendChild(tempNode);
                        arr.push(tempNode);
                    }
                    return arr;
                }
                PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.ParseElement = ParseElement;
                function createScriptNode(refNode) {
                    var script = document.createElement('script');
                    var attr = refNode.attributes;
                    for (var i = 0; i < attr.length; i++) {
                        script.setAttribute(attr[i].name, attr[i].textContent);
                        if (attr[i].name.toLowerCase() === 'src') {
                            // waiting only for src to finish loading
                            injectorCounter++;
                            script.onload = function () {
                                injectorCounter--;
                            };
                        }
                    }
                    script.innerHTML = refNode.innerHTML;
                    return script;
                }
            })(PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 = visual.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 || (visual.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 = {}));
        })(visual = extensibility.visual || (extensibility.visual = {}));
    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));
})(powerbi || (powerbi = {}));
var powerbi;
(function (powerbi) {
    var extensibility;
    (function (extensibility) {
        var visual;
        (function (visual) {
            var PBI_CV_E67F6187_8266_4C40_822B_369EDD127725;
            (function (PBI_CV_E67F6187_8266_4C40_822B_369EDD127725) {
                function getValue(objects, objectName, propertyName, defaultValue) {
                    if (objects) {
                        var object = objects[objectName];
                        if (object) {
                            var property = object[propertyName];
                            if (property !== undefined) {
                                return property;
                            }
                        }
                    }
                    return defaultValue;
                }
                PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.getValue = getValue;
                function getFillValue(objects, objectName, propertyName, defaultValue) {
                    if (objects) {
                        var object = objects[objectName];
                        if (object) {
                            var fill = object[propertyName];
                            if (fill !== undefined && fill.solid !== undefined && fill.solid.color !== undefined) {
                                return fill.solid.color;
                            }
                        }
                    }
                    return defaultValue;
                }
                PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.getFillValue = getFillValue;
            })(PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 = visual.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 || (visual.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 = {}));
        })(visual = extensibility.visual || (extensibility.visual = {}));
    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));
})(powerbi || (powerbi = {}));
/*
 *  Power BI Visual CLI
 *
 *  Copyright (c) Microsoft Corporation
 *  All rights reserved.
 *  MIT License
 *
 *  Permission is hereby granted, free of charge, to any person obtaining a copy
 *  of this software and associated documentation files (the ""Software""), to deal
 *  in the Software without restriction, including without limitation the rights
 *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *  copies of the Software, and to permit persons to whom the Software is
 *  furnished to do so, subject to the following conditions:
 *
 *  The above copyright notice and this permission notice shall be included in
 *  all copies or substantial portions of the Software.
 *
 *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 *  THE SOFTWARE.
 */
var powerbi;
(function (powerbi) {
    var extensibility;
    (function (extensibility) {
        var visual;
        (function (visual) {
            var PBI_CV_E67F6187_8266_4C40_822B_369EDD127725;
            (function (PBI_CV_E67F6187_8266_4C40_822B_369EDD127725) {
                // Below is a snippet of a definition for an object which will contain the property values
                // selected by the users
                /*interface VisualSettings {
                    lineColor: string;
                }*/
                // To allow this scenario you should first the following JSON definition to the capabilities.json file
                // under the "objects" property:
                // "settings": {
                //     "displayName": "Visual Settings",
                //     "description": "Visual Settings Tooltip",
                //     "properties": {
                //         "lineColor": {
                //         "displayName": "Line Color",
                //         "type": { "fill": { "solid": { "color": true }}}
                //         }
                //     }
                // }
                var Visual = (function () {
                    // Snippet for defining the member property which will hold the property pane values
                    /*private settings: VisualSettings;*/
                    function Visual(options) {
                        this.rootElement = options.element;
                        this.headNodes = [];
                        this.bodyNodes = [];
                    }
                    Visual.prototype.update = function (options) {
                        var dataViews = options.dataViews;
                        if (!dataViews || dataViews.length === 0)
                            return;
                        var dataView = dataViews[0];
                        if (!dataView || !dataView.metadata)
                            return;
                        this.updateObjects(dataView.metadata.objects);
                        var payloadBase64 = null;
                        if (dataView.scriptResult && dataView.scriptResult.payloadBase64) {
                            //payloadBase64 = dataView.scriptResult.payloadBase64;
                            payloadBase64 = 'PCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCjxoZWFkPg0KPG1ldGEgY2hhcnNldD0idXRmLTgiLz4NCjwhLS0gPHNjcmlwdCBzcmM9IjAwMV9maWxlcy9odG1sd2lkZ2V0cy0wLjYvaHRtbHdpZGdldHMuanMiPjwvc2NyaXB0PiAtLT4NCjxzY3JpcHQ+DQooZnVuY3Rpb24oKSB7DQogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGENCiAgLy8gbmV3IG9iamVjdC4gVGhpcyBhbGxvd3MgcHJlY2VkaW5nIGNvZGUgdG8gc2V0IG9wdGlvbnMgdGhhdCBhZmZlY3QgdGhlDQogIC8vIGluaXRpYWxpemF0aW9uIHByb2Nlc3MgKHRob3VnaCBub25lIGN1cnJlbnRseSBleGlzdCkuDQogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsNCg0KICAvLyBTZWUgaWYgd2UncmUgcnVubmluZyBpbiBhIHZpZXdlciBwYW5lLiBJZiBub3QsIHdlJ3JlIGluIGEgd2ViIGJyb3dzZXIuDQogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQ0KICAgICAgL1xidmlld2VyX3BhbmU9MVxiLy50ZXN0KHdpbmRvdy5sb2NhdGlvbik7DQoNCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50Lg0KICAvLyBOb3RlIHRoYXQgc3RhdGljIHdpZGdldHMgY2FuIGFwcGVhciBpbiBib3RoIFNoaW55IGFuZCBzdGF0aWMgbW9kZXMsIGJ1dA0KICAvLyBvYnZpb3VzbHksIFNoaW55IHdpZGdldHMgY2FuIG9ubHkgYXBwZWFyIGluIFNoaW55IGFwcHMvZG9jdW1lbnRzLg0KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9DQogICAgICB0eXBlb2Yod2luZG93LlNoaW55KSAhPT0gInVuZGVmaW5lZCIgJiYgISF3aW5kb3cuU2hpbnkub3V0cHV0QmluZGluZ3M7DQoNCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24NCiAgLy8gdmVyc2lvbiBpZiBuZWNlc3NhcnkuDQogIGZ1bmN0aW9uIHF1ZXJ5U2VsZWN0b3JBbGwoc2NvcGUsIHNlbGVjdG9yKSB7DQogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgew0KICAgICAgcmV0dXJuIHNjb3BlLmZpbmQoc2VsZWN0b3IpOw0KICAgIH0NCiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgew0KICAgICAgcmV0dXJuIHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOw0KICAgIH0NCiAgfQ0KDQogIGZ1bmN0aW9uIGFzQXJyYXkodmFsdWUpIHsNCiAgICBpZiAodmFsdWUgPT09IG51bGwpDQogICAgICByZXR1cm4gW107DQogICAgaWYgKCQuaXNBcnJheSh2YWx1ZSkpDQogICAgICByZXR1cm4gdmFsdWU7DQogICAgcmV0dXJuIFt2YWx1ZV07DQogIH0NCg0KICAvLyBJbXBsZW1lbnQgalF1ZXJ5J3MgZXh0ZW5kDQogIGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQgLyosIC4uLiAqLykgew0KICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsNCiAgICAgIHJldHVybiB0YXJnZXQ7DQogICAgfQ0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7DQogICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOw0KICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHsNCiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgew0KICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gdGFyZ2V0Ow0KICB9DQoNCiAgLy8gSUU4IGRvZXNuJ3Qgc3VwcG9ydCBBcnJheS5mb3JFYWNoLg0KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsNCiAgICBpZiAodmFsdWVzLmZvckVhY2gpIHsNCiAgICAgIHZhbHVlcy5mb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKTsNCiAgICB9IGVsc2Ugew0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB2YWx1ZXNbaV0sIGksIHZhbHVlcyk7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgLy8gUmVwbGFjZXMgdGhlIHNwZWNpZmllZCBtZXRob2Qgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIGZ1bmNTb3VyY2UuDQogIC8vDQogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uDQogIC8vIHRoYXQgUkVUVVJOUyB0aGUgbmV3IG1ldGhvZC4gZnVuY1NvdXJjZSByZWNlaXZlcyBhIHNpbmdsZSBhcmd1bWVudCB0aGF0IGlzDQogIC8vIHRoZSBvdmVycmlkZGVuIG1ldGhvZCwgaXQgY2FuIGJlIGNhbGxlZCBmcm9tIHRoZSBuZXcgbWV0aG9kLiBUaGUgb3ZlcnJpZGRlbg0KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkNCiAgLy8gYm91bmQgdG8gaXQgc28gInRoaXMiIHdpbGwgd29yayBjb3JyZWN0bHkuDQogIGZ1bmN0aW9uIG92ZXJyaWRlTWV0aG9kKHRhcmdldCwgbWV0aG9kTmFtZSwgZnVuY1NvdXJjZSkgew0KICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsNCiAgICB2YXIgc3VwZXJGdW5jQm91bmQgPSBmdW5jdGlvbigpIHsNCiAgICAgIHJldHVybiBzdXBlckZ1bmMuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOw0KICAgIH07DQogICAgdGFyZ2V0W21ldGhvZE5hbWVdID0gZnVuY1NvdXJjZShzdXBlckZ1bmNCb3VuZCk7DQogIH0NCg0KICAvLyBBZGQgYSBtZXRob2QgdG8gZGVsZWdhdG9yIHRoYXQsIHdoZW4gaW52b2tlZCwgY2FsbHMNCiAgLy8gZGVsZWdhdGVlLm1ldGhvZE5hbWUuIElmIHRoZXJlIGlzIG5vIHN1Y2ggbWV0aG9kIG9uDQogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUNCiAgLy8gZGVsZWdhdGVNZXRob2Qgd2FzIGNhbGxlZCwgdGhlbiB0aGUgb3JpZ2luYWwgdmVyc2lvbg0KICAvLyBpcyBpbnZva2VkIGluc3RlYWQuDQogIC8vIEZvciBleGFtcGxlOg0KICAvLw0KICAvLyB2YXIgYSA9IHsNCiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0NCiAgLy8gICBtZXRob2QyOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2EyJyk7IH0NCiAgLy8gfTsNCiAgLy8gdmFyIGIgPSB7DQogIC8vICAgbWV0aG9kMTogZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdiMScpOyB9DQogIC8vIH07DQogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7DQogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QyIik7DQogIC8vIGEubWV0aG9kMSgpOw0KICAvLyBhLm1ldGhvZDIoKTsNCiAgLy8NCiAgLy8gVGhlIG91dHB1dCB3b3VsZCBiZSAiYjEiLCAiYTIiLg0KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgew0KICAgIHZhciBpbmhlcml0ZWQgPSBkZWxlZ2F0b3JbbWV0aG9kTmFtZV07DQogICAgZGVsZWdhdG9yW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7DQogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOw0KICAgICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlZVttZXRob2ROYW1lXTsNCg0KICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsDQogICAgICAvLyBjYWxsIHRoZSBtZXRob2Qgb24gdGhlIGRlbGVnYXRvciwgaWYgaXQgZXhpc3RzLg0KICAgICAgaWYgKCFtZXRob2QpIHsNCiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOw0KICAgICAgICBtZXRob2QgPSBpbmhlcml0ZWQ7DQogICAgICB9DQoNCiAgICAgIGlmIChtZXRob2QpIHsNCiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0YXJnZXQsIGFyZ3VtZW50cyk7DQogICAgICB9DQogICAgfTsNCiAgfQ0KDQogIC8vIEltcGxlbWVudCBhIHZhZ3VlIGZhY3NpbWlsaWUgb2YgalF1ZXJ5J3MgZGF0YSBtZXRob2QNCiAgZnVuY3Rpb24gZWxlbWVudERhdGEoZWwsIG5hbWUsIHZhbHVlKSB7DQogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgew0KICAgICAgcmV0dXJuIGVsWyJodG1sd2lkZ2V0X2RhdGFfIiArIG5hbWVdOw0KICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAzKSB7DQogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOw0KICAgICAgcmV0dXJuIGVsOw0KICAgIH0gZWxzZSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsNCiAgICAgICAgYXJndW1lbnRzLmxlbmd0aCk7DQogICAgfQ0KICB9DQoNCiAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNDQ2MTcwL2VzY2FwZS1zdHJpbmctZm9yLXVzZS1pbi1qYXZhc2NyaXB0LXJlZ2V4DQogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsNCiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcLVxbXF1cL1x7XH1cKFwpXCpcK1w/XC5cXFxeXCRcfF0vZywgIlxcJCYiKTsNCiAgfQ0KDQogIGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpIHsNCiAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCJcXGIiICsgZXNjYXBlUmVnRXhwKGNsYXNzTmFtZSkgKyAiXFxiIik7DQogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsNCiAgfQ0KDQogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzDQogIC8vIGNsYXNzTmFtZSAtIGNsYXNzIG5hbWUgdG8gdGVzdCBmb3INCiAgLy8gaW5jbHVkZSAtIGlmIHRydWUsIG9ubHkgcmV0dXJuIGVsZW1lbnRzIHdpdGggZ2l2ZW4gY2xhc3NOYW1lOw0KICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lDQogIGZ1bmN0aW9uIGZpbHRlckJ5Q2xhc3MoZWxlbWVudHMsIGNsYXNzTmFtZSwgaW5jbHVkZSkgew0KICAgIHZhciByZXN1bHRzID0gW107DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgew0KICAgICAgaWYgKGhhc0NsYXNzKGVsZW1lbnRzW2ldLCBjbGFzc05hbWUpID09IGluY2x1ZGUpDQogICAgICAgIHJlc3VsdHMucHVzaChlbGVtZW50c1tpXSk7DQogICAgfQ0KICAgIHJldHVybiByZXN1bHRzOw0KICB9DQoNCiAgZnVuY3Rpb24gb24ob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsNCiAgICBpZiAob2JqLmFkZEV2ZW50TGlzdGVuZXIpIHsNCiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOw0KICAgIH0gZWxzZSBpZiAob2JqLmF0dGFjaEV2ZW50KSB7DQogICAgICBvYmouYXR0YWNoRXZlbnQoZXZlbnROYW1lLCBmdW5jKTsNCiAgICB9DQogIH0NCg0KICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsNCiAgICBpZiAob2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIpDQogICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZ1bmMsIGZhbHNlKTsNCiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsNCiAgICAgIG9iai5kZXRhY2hFdmVudChldmVudE5hbWUsIGZ1bmMpOw0KICAgIH0NCiAgfQ0KDQogIC8vIFRyYW5zbGF0ZSBhcnJheSBvZiB2YWx1ZXMgdG8gdG9wL3JpZ2h0L2JvdHRvbS9sZWZ0LCBhcyB1c3VhbCB3aXRoDQogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5DQogIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9wYWRkaW5nDQogIGZ1bmN0aW9uIHVucGFja1BhZGRpbmcodmFsdWUpIHsNCiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpDQogICAgICB2YWx1ZSA9IFt2YWx1ZV07DQogICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgew0KICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsNCiAgICB9DQogICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikgew0KICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsNCiAgICB9DQogICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMykgew0KICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsNCiAgICB9DQogICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkgew0KICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsNCiAgICB9DQogIH0NCg0KICAvLyBDb252ZXJ0IGFuIHVucGFja2VkIHBhZGRpbmcgb2JqZWN0IHRvIGEgQ1NTIHZhbHVlDQogIGZ1bmN0aW9uIHBhZGRpbmdUb0NzcyhwYWRkaW5nT2JqKSB7DQogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsNCiAgfQ0KDQogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MNCiAgZnVuY3Rpb24gcHgoeCkgew0KICAgIGlmICh0eXBlb2YoeCkgPT09ICJudW1iZXIiKQ0KICAgICAgcmV0dXJuIHggKyAicHgiOw0KICAgIGVsc2UNCiAgICAgIHJldHVybiB4Ow0KICB9DQoNCiAgLy8gUmV0cmlldmVzIHJ1bnRpbWUgd2lkZ2V0IHNpemluZyBpbmZvcm1hdGlvbiBmb3IgYW4gZWxlbWVudC4NCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywNCiAgLy8gZGVmYXVsdFdpZHRoLCBkZWZhdWx0SGVpZ2h0IGZpZWxkcy4NCiAgZnVuY3Rpb24gc2l6aW5nUG9saWN5KGVsKSB7DQogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOw0KICAgIGlmICghc2l6aW5nRWwpDQogICAgICByZXR1cm4gbnVsbDsNCiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7DQogICAgaWYgKHZpZXdlck1vZGUpIHsNCiAgICAgIHJldHVybiBzcC52aWV3ZXI7DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiBzcC5icm93c2VyOw0KICAgIH0NCiAgfQ0KDQogIC8vIEBwYXJhbSB0YXNrcyBBcnJheSBvZiBzdHJpbmdzIChvciBmYWxzeSB2YWx1ZSwgaW4gd2hpY2ggY2FzZSBuby1vcCkuDQogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQ0KICAvLyAgIGZ1bmN0aW9uLg0KICAvLyBAcGFyYW0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlICJ0aGlzIiBmb3IgZWFjaCBmdW5jdGlvbg0KICAvLyAgIGV4ZWN1dGlvbi4NCiAgLy8gQHBhcmFtIGFyZ3MgQXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zLiAoVGhlDQogIC8vICAgc2FtZSBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgdG8gYWxsIGZ1bmN0aW9ucy4pDQogIGZ1bmN0aW9uIGV2YWxBbmRSdW4odGFza3MsIHRhcmdldCwgYXJncykgew0KICAgIGlmICh0YXNrcykgew0KICAgICAgZm9yRWFjaCh0YXNrcywgZnVuY3Rpb24odGFzaykgew0KICAgICAgICB2YXIgdGFza0Z1bmMgPSBldmFsKCIoIiArIHRhc2sgKyAiKSIpOw0KICAgICAgICBpZiAodHlwZW9mKHRhc2tGdW5jKSAhPT0gImZ1bmN0aW9uIikgew0KICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVGFzayBtdXN0IGJlIGEgZnVuY3Rpb24hIFNvdXJjZTpcbiIgKyB0YXNrKTsNCiAgICAgICAgfQ0KICAgICAgICB0YXNrRnVuYy5hcHBseSh0YXJnZXQsIGFyZ3MpOw0KICAgICAgfSk7DQogICAgfQ0KICB9DQoNCiAgZnVuY3Rpb24gaW5pdFNpemluZyhlbCkgew0KICAgIHZhciBzaXppbmcgPSBzaXppbmdQb2xpY3koZWwpOw0KICAgIGlmICghc2l6aW5nKQ0KICAgICAgcmV0dXJuOw0KDQogICAgdmFyIGNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodG1sd2lkZ2V0X2NvbnRhaW5lciIpOw0KICAgIGlmICghY2VsKQ0KICAgICAgcmV0dXJuOw0KDQogICAgaWYgKHR5cGVvZihzaXppbmcucGFkZGluZykgIT09ICJ1bmRlZmluZWQiKSB7DQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICIwIjsNCiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZyA9IHBhZGRpbmdUb0Nzcyh1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKSk7DQogICAgfQ0KDQogICAgaWYgKHNpemluZy5maWxsKSB7DQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7DQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gIjEwMCUiOw0KICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7DQogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgaWYgKGNlbCkgew0KICAgICAgICBjZWwuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOw0KICAgICAgICB2YXIgcGFkID0gdW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZyk7DQogICAgICAgIGNlbC5zdHlsZS50b3AgPSBwYWQudG9wICsgInB4IjsNCiAgICAgICAgY2VsLnN0eWxlLnJpZ2h0ID0gcGFkLnJpZ2h0ICsgInB4IjsNCiAgICAgICAgY2VsLnN0eWxlLmJvdHRvbSA9IHBhZC5ib3R0b20gKyAicHgiOw0KICAgICAgICBjZWwuc3R5bGUubGVmdCA9IHBhZC5sZWZ0ICsgInB4IjsNCiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiMTAwJSI7DQogICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICIxMDAlIjsNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldFdpZHRoOyB9LA0KICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldEhlaWdodDsgfQ0KICAgICAgfTsNCg0KICAgIH0gZWxzZSB7DQogICAgICBlbC5zdHlsZS53aWR0aCA9IHB4KHNpemluZy53aWR0aCk7DQogICAgICBlbC5zdHlsZS5oZWlnaHQgPSBweChzaXppbmcuaGVpZ2h0KTsNCg0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZWwub2Zmc2V0V2lkdGg7IH0sDQogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRIZWlnaHQ7IH0NCiAgICAgIH07DQogICAgfQ0KICB9DQoNCiAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIG1ldGhvZHMNCiAgdmFyIGRlZmF1bHRzID0gew0KICAgIGZpbmQ6IGZ1bmN0aW9uKHNjb3BlKSB7DQogICAgICByZXR1cm4gcXVlcnlTZWxlY3RvckFsbChzY29wZSwgIi4iICsgdGhpcy5uYW1lKTsNCiAgICB9LA0KICAgIHJlbmRlckVycm9yOiBmdW5jdGlvbihlbCwgZXJyKSB7DQogICAgICB2YXIgJGVsID0gJChlbCk7DQoNCiAgICAgIHRoaXMuY2xlYXJFcnJvcihlbCk7DQoNCiAgICAgIC8vIEFkZCBhbGwgdGhlc2UgZXJyb3IgY2xhc3NlcywgYXMgU2hpbnkgZG9lcw0KICAgICAgdmFyIGVyckNsYXNzID0gInNoaW55LW91dHB1dC1lcnJvciI7DQogICAgICBpZiAoZXJyLnR5cGUgIT09IG51bGwpIHsNCiAgICAgICAgLy8gdXNlIHRoZSBjbGFzc2VzIG9mIHRoZSBlcnJvciBjb25kaXRpb24gYXMgQ1NTIGNsYXNzIG5hbWVzDQogICAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiICIgKyAkLm1hcChhc0FycmF5KGVyci50eXBlKSwgZnVuY3Rpb24odHlwZSkgew0KICAgICAgICAgIHJldHVybiBlcnJDbGFzcyArICItIiArIHR5cGU7DQogICAgICAgIH0pLmpvaW4oIiAiKTsNCiAgICAgIH0NCiAgICAgIGVyckNsYXNzID0gZXJyQ2xhc3MgKyAiIGh0bWx3aWRnZXRzLWVycm9yIjsNCg0KICAgICAgLy8gSXMgZWwgaW5saW5lIG9yIGJsb2NrPyBJZiBpbmxpbmUgb3IgaW5saW5lLWJsb2NrLCBqdXN0IGRpc3BsYXk6bm9uZSBpdA0KICAgICAgLy8gYW5kIGFkZCBhbiBpbmxpbmUgZXJyb3IuDQogICAgICB2YXIgZGlzcGxheSA9ICRlbC5jc3MoImRpc3BsYXkiKTsNCiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIGRpc3BsYXkpOw0KDQogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsNCiAgICAgICAgJGVsLmhpZGUoKTsNCiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgew0KICAgICAgICAgIHZhciBlcnJvclNwYW4gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcyhlcnJDbGFzcyk7DQogICAgICAgICAgZXJyb3JTcGFuLnRleHQoZXJyLm1lc3NhZ2UpOw0KICAgICAgICAgICRlbC5hZnRlcihlcnJvclNwYW4pOw0KICAgICAgICB9DQogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpIHsNCiAgICAgICAgLy8gSWYgYmxvY2ssIGFkZCBhbiBlcnJvciBqdXN0IGFmdGVyIHRoZSBlbCwgc2V0IHZpc2liaWxpdHk6bm9uZSBvbiB0aGUNCiAgICAgICAgLy8gZWwsIGFuZCBwb3NpdGlvbiB0aGUgZXJyb3IgdG8gYmUgb24gdG9wIG9mIHRoZSBlbC4NCiAgICAgICAgLy8gTWFyayBpdCB3aXRoIGEgdW5pcXVlIElEIGFuZCBDU1MgY2xhc3Mgc28gd2UgY2FuIHJlbW92ZSBpdCBsYXRlci4NCiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgew0KICAgICAgICAgIHZhciBlcnJvckRpdiA9ICQoIjxkaXY+IikuYWRkQ2xhc3MoZXJyQ2xhc3MpLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKQ0KICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQ0KICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpDQogICAgICAgICAgICAvLyBzZXR0aW5nIHdpZHRoIGNhbiBwdXNoIG91dCB0aGUgcGFnZSBzaXplLCBmb3JjaW5nIG90aGVyd2lzZQ0KICAgICAgICAgICAgLy8gdW5uZWNlc3Nhcnkgc2Nyb2xsYmFycyB0byBhcHBlYXIgYW5kIG1ha2luZyBpdCBpbXBvc3NpYmxlIGZvcg0KICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdG8gc2hyaW5rOyBzbyB1c2UgbWF4LXdpZHRoIGluc3RlYWQNCiAgICAgICAgICAgIC5jc3MoIm1heFdpZHRoIiwgZWwub2Zmc2V0V2lkdGgpDQogICAgICAgICAgICAuY3NzKCJoZWlnaHQiLCBlbC5vZmZzZXRIZWlnaHQpOw0KICAgICAgICAgIGVycm9yRGl2LnRleHQoZXJyLm1lc3NhZ2UpOw0KICAgICAgICAgICRlbC5hZnRlcihlcnJvckRpdik7DQoNCiAgICAgICAgICAvLyBSZWFsbHkgZHVtYiB3YXkgdG8ga2VlcCB0aGUgc2l6ZS9wb3NpdGlvbiBvZiB0aGUgZXJyb3IgaW4gc3luYyB3aXRoDQogICAgICAgICAgLy8gdGhlIHBhcmVudCBlbGVtZW50IGFzIHRoZSB3aW5kb3cgaXMgcmVzaXplZCBvciB3aGF0ZXZlci4NCiAgICAgICAgICB2YXIgaW50SWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGlmICghZXJyb3JEaXZbMF0ucGFyZW50RWxlbWVudCkgew0KICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludElkKTsNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZXJyb3JEaXYNCiAgICAgICAgICAgICAgLmNzcygidG9wIiwgZWwub2Zmc2V0VG9wKQ0KICAgICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkNCiAgICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkNCiAgICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsNCiAgICAgICAgICB9LCA1MDApOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbihlbCkgew0KICAgICAgdmFyICRlbCA9ICQoZWwpOw0KICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiKTsNCiAgICAgICRlbC5kYXRhKCJyZXN0b3JlLWRpc3BsYXktbW9kZSIsIG51bGwpOw0KDQogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsNCiAgICAgICAgaWYgKGRpc3BsYXkpDQogICAgICAgICAgJGVsLmNzcygiZGlzcGxheSIsIGRpc3BsYXkpOw0KICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOw0KICAgICAgfSBlbHNlIGlmIChkaXNwbGF5ID09PSAiYmxvY2siKXsNCiAgICAgICAgJGVsLmNzcygidmlzaWJpbGl0eSIsICJpbmhlcml0Iik7DQogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7DQogICAgICB9DQogICAgfSwNCiAgICBzaXppbmc6IHt9DQogIH07DQoNCiAgLy8gQ2FsbGVkIGJ5IHdpZGdldCBiaW5kaW5ncyB0byByZWdpc3RlciBhIG5ldyB0eXBlIG9mIHdpZGdldC4gVGhlIGRlZmluaXRpb24NCiAgLy8gb2JqZWN0IGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoNCiAgLy8gLSBuYW1lIChyZXF1aXJlZCkgLSBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBiaW5kaW5nIG5hbWUsIHdoaWNoIHdpbGwgYmUNCiAgLy8gICB1c2VkIGJ5IGRlZmF1bHQgYXMgdGhlIENTUyBjbGFzc25hbWUgdG8gbG9vayBmb3IuDQogIC8vIC0gaW5pdGlhbGl6ZSAob3B0aW9uYWwpIC0gQSBmdW5jdGlvbihlbCkgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbmNlIHBlcg0KICAvLyAgIHdpZGdldCBlbGVtZW50OyBpZiBhIHZhbHVlIGlzIHJldHVybmVkLCBpdCB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgdGhpcmQNCiAgLy8gICB2YWx1ZSB0byByZW5kZXJWYWx1ZS4NCiAgLy8gLSByZW5kZXJWYWx1ZSAocmVxdWlyZWQpIC0gQSBmdW5jdGlvbihlbCwgZGF0YSwgaW5pdFZhbHVlKSB0aGF0IHdpbGwgYmUNCiAgLy8gICBjYWxsZWQgd2l0aCBkYXRhLiBTdGF0aWMgY29udGV4dHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBvbmNlIHBlcg0KICAvLyAgIGVsZW1lbnQ7IFNoaW55IGFwcHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBwZXINCiAgLy8gICBlbGVtZW50LCBhcyB0aGUgZGF0YSBjaGFuZ2VzLg0KICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0ID0gZnVuY3Rpb24oZGVmaW5pdGlvbikgew0KICAgIGlmICghZGVmaW5pdGlvbi5uYW1lKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSBuYW1lIik7DQogICAgfQ0KICAgIGlmICghZGVmaW5pdGlvbi50eXBlKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSB0eXBlIik7DQogICAgfQ0KICAgIC8vIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnQgb3V0cHV0IHdpZGdldHMNCiAgICBpZiAoZGVmaW5pdGlvbi50eXBlICE9PSAib3V0cHV0Iikgew0KICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgd2lkZ2V0IHR5cGUgJyIgKyBkZWZpbml0aW9uLnR5cGUgKyAiJyIpOw0KICAgIH0NCiAgICAvLyBUT0RPOiBWZXJpZnkgdGhhdCAubmFtZSBpcyBhIHZhbGlkIENTUyBjbGFzc25hbWUNCg0KICAgIC8vIFN1cHBvcnQgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zLiBPbGQtc3R5bGUgY2xhc3MtYm91bmQNCiAgICAvLyBkZWZpbml0aW9ucyBoYXZlIG9uZSB3aWRnZXQgIm9iamVjdCIgcGVyIHdpZGdldCBwZXIgdHlwZS9jbGFzcyBvZg0KICAgIC8vIHdpZGdldDsgdGhlIHJlbmRlclZhbHVlIGFuZCByZXNpemUgbWV0aG9kcyBvbiBzdWNoIHdpZGdldCBvYmplY3RzDQogICAgLy8gdGFrZSBlbCBhbmQgaW5zdGFuY2UgYXJndW1lbnRzLCBiZWNhdXNlIHRoZSB3aWRnZXQgb2JqZWN0IGNhbid0DQogICAgLy8gc3RvcmUgdGhlbS4gTmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldA0KICAgIC8vIG9iamVjdCBwZXIgd2lkZ2V0IGluc3RhbmNlOyB0aGUgZGVmaW5pdGlvbiB0aGF0J3MgcGFzc2VkIGluIGRvZXNuJ3QNCiAgICAvLyBwcm92aWRlIHJlbmRlclZhbHVlIG9yIHJlc2l6ZSBtZXRob2RzIGF0IGFsbCwganVzdCB0aGUgc2luZ2xlIG1ldGhvZA0KICAgIC8vICAgZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCkNCiAgICAvLyB3aGljaCByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGhhcyByZW5kZXJWYWx1ZSh4KSBhbmQgcmVzaXplKHcsIGgpLg0KICAgIC8vIFRoaXMgZW5hYmxlcyBhIGZhciBtb3JlIG5hdHVyYWwgcHJvZ3JhbW1pbmcgc3R5bGUgZm9yIHRoZSB3aWRnZXQNCiAgICAvLyBhdXRob3IsIHdobyBjYW4gc3RvcmUgcGVyLWluc3RhbmNlIHN0YXRlIHVzaW5nIGVpdGhlciBPTy1zdHlsZQ0KICAgIC8vIGluc3RhbmNlIGZpZWxkcyBvciBmdW5jdGlvbmFsLXN0eWxlIGNsb3N1cmUgdmFyaWFibGVzIChJIGd1ZXNzIHRoaXMNCiAgICAvLyBpcyBpbiBjb250cmFzdCB0byB3aGF0IGNhbiBvbmx5IGJlIGNhbGxlZCBDLXN0eWxlIHBzZXVkby1PTyB3aGljaCBpcw0KICAgIC8vIHdoYXQgd2UgcmVxdWlyZWQgYmVmb3JlKS4NCiAgICBpZiAoZGVmaW5pdGlvbi5mYWN0b3J5KSB7DQogICAgICBkZWZpbml0aW9uID0gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmaW5pdGlvbik7DQogICAgfQ0KDQogICAgaWYgKCFkZWZpbml0aW9uLnJlbmRlclZhbHVlKSB7DQogICAgICB0aHJvdyBuZXcgRXJyb3IoIldpZGdldCBtdXN0IGhhdmUgYSByZW5kZXJWYWx1ZSBmdW5jdGlvbiIpOw0KICAgIH0NCg0KICAgIC8vIEZvciBzdGF0aWMgcmVuZGVyaW5nIChub24tU2hpbnkpLCB1c2UgYSBzaW1wbGUgd2lkZ2V0IHJlZ2lzdHJhdGlvbg0KICAgIC8vIHNjaGVtZS4gV2UgYWxzbyB1c2UgdGhpcyBzY2hlbWUgZm9yIFNoaW55IGFwcHMvZG9jdW1lbnRzIHRoYXQgYWxzbw0KICAgIC8vIGNvbnRhaW4gc3RhdGljIHdpZGdldHMuDQogICAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgPSB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyB8fCBbXTsNCiAgICAvLyBNZXJnZSBkZWZhdWx0cyBpbnRvIHRoZSBkZWZpbml0aW9uOyBkb24ndCBtdXRhdGUgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24uDQogICAgdmFyIHN0YXRpY0JpbmRpbmcgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsNCiAgICBvdmVycmlkZU1ldGhvZChzdGF0aWNCaW5kaW5nLCAiZmluZCIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgew0KICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7DQogICAgICAgIHZhciByZXN1bHRzID0gc3VwZXJmdW5jKHNjb3BlKTsNCiAgICAgICAgLy8gRmlsdGVyIG91dCBTaGlueSBvdXRwdXRzLCB3ZSBvbmx5IHdhbnQgdGhlIHN0YXRpYyBraW5kDQogICAgICAgIHJldHVybiBmaWx0ZXJCeUNsYXNzKHJlc3VsdHMsICJodG1sLXdpZGdldC1vdXRwdXQiLCBmYWxzZSk7DQogICAgICB9Ow0KICAgIH0pOw0KICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzLnB1c2goc3RhdGljQmluZGluZyk7DQoNCiAgICBpZiAoc2hpbnlNb2RlKSB7DQogICAgICAvLyBTaGlueSBpcyBydW5uaW5nLiBSZWdpc3RlciB0aGUgZGVmaW5pdGlvbiB3aXRoIGFuIG91dHB1dCBiaW5kaW5nLg0KICAgICAgLy8gVGhlIGRlZmluaXRpb24gaXRzZWxmIHdpbGwgbm90IGJlIHRoZSBvdXRwdXQgYmluZGluZywgaW5zdGVhZA0KICAgICAgLy8gd2Ugd2lsbCBtYWtlIGFuIG91dHB1dCBiaW5kaW5nIG9iamVjdCB0aGF0IGRlbGVnYXRlcyB0byB0aGUNCiAgICAgIC8vIGRlZmluaXRpb24uIFRoaXMgaXMgYmVjYXVzZSB3ZSBmb29saXNobHkgdXNlZCB0aGUgc2FtZSBtZXRob2QNCiAgICAgIC8vIG5hbWUgKHJlbmRlclZhbHVlKSBmb3IgaHRtbHdpZGdldHMgZGVmaW5pdGlvbiBhbmQgU2hpbnkgYmluZGluZ3MNCiAgICAgIC8vIGJ1dCB0aGV5IGFjdHVhbGx5IGhhdmUgcXVpdGUgZGlmZmVyZW50IHNlbWFudGljcyAodGhlIFNoaW55DQogICAgICAvLyBiaW5kaW5ncyByZWNlaXZlIGRhdGEgdGhhdCBpbmNsdWRlcyBsb3RzIG9mIG1ldGFkYXRhIHRoYXQgaXQNCiAgICAgIC8vIHN0cmlwcyBvZmYgYmVmb3JlIGNhbGxpbmcgaHRtbHdpZGdldHMgcmVuZGVyVmFsdWUpLiBXZSBjYW4ndA0KICAgICAgLy8ganVzdCBpZ25vcmUgdGhlIGRpZmZlcmVuY2UgYmVjYXVzZSBpbiBzb21lIHdpZGdldHMgaXQncyBoZWxwZnVsDQogICAgICAvLyB0byBjYWxsIHRoaXMucmVuZGVyVmFsdWUoKSBmcm9tIGluc2lkZSBvZiByZXNpemUoKSwgYW5kIGlmDQogICAgICAvLyB3ZSdyZSBub3QgZGVsZWdhdGluZywgdGhlbiB0aGF0IGNhbGwgd2lsbCBnbyB0byB0aGUgU2hpbnkNCiAgICAgIC8vIHZlcnNpb24gaW5zdGVhZCBvZiB0aGUgaHRtbHdpZGdldHMgdmVyc2lvbi4NCg0KICAgICAgLy8gTWVyZ2UgZGVmYXVsdHMgd2l0aCBkZWZpbml0aW9uLCB3aXRob3V0IG11dGF0aW5nIGVpdGhlci4NCiAgICAgIHZhciBiaW5kaW5nRGVmID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgZGVmaW5pdGlvbik7DQoNCiAgICAgIC8vIFRoaXMgb2JqZWN0IHdpbGwgYmUgb3VyIGFjdHVhbCBTaGlueSBiaW5kaW5nLg0KICAgICAgdmFyIHNoaW55QmluZGluZyA9IG5ldyBTaGlueS5PdXRwdXRCaW5kaW5nKCk7DQoNCiAgICAgIC8vIFdpdGggYSBmZXcgZXhjZXB0aW9ucywgd2UnbGwgd2FudCB0byBzaW1wbHkgdXNlIHRoZSBiaW5kaW5nRGVmJ3MNCiAgICAgIC8vIHZlcnNpb24gb2YgbWV0aG9kcyBpZiB0aGV5IGFyZSBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxsIGJhY2sgdG8NCiAgICAgIC8vIFNoaW55J3MgZGVmYXVsdHMuIE5PVEU6IElmIFNoaW55J3Mgb3V0cHV0IGJpbmRpbmdzIGdhaW4gYWRkaXRpb25hbA0KICAgICAgLy8gbWV0aG9kcyBpbiB0aGUgZnV0dXJlLCBhbmQgd2Ugd2FudCB0aGVtIHRvIGJlIG92ZXJyaWRlYWJsZSBieQ0KICAgICAgLy8gSFRNTFdpZGdldCBiaW5kaW5nIGRlZmluaXRpb25zLCB0aGVuIHdlJ2xsIG5lZWQgdG8gYWRkIHRoZW0gdG8gdGhpcw0KICAgICAgLy8gbGlzdC4NCiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImdldElkIik7DQogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlQ2hhbmdlIik7DQogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJvblZhbHVlRXJyb3IiKTsNCiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInJlbmRlckVycm9yIik7DQogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJjbGVhckVycm9yIik7DQogICAgICBkZWxlZ2F0ZU1ldGhvZChzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYsICJzaG93UHJvZ3Jlc3MiKTsNCg0KICAgICAgLy8gVGhlIGZpbmQsIHJlbmRlclZhbHVlLCBhbmQgcmVzaXplIGFyZSBoYW5kbGVkIGRpZmZlcmVudGx5LCBiZWNhdXNlIHdlDQogICAgICAvLyB3YW50IHRvIGFjdHVhbGx5IGRlY29yYXRlIHRoZSBiZWhhdmlvciBvZiB0aGUgYmluZGluZ0RlZiBtZXRob2RzLg0KDQogICAgICBzaGlueUJpbmRpbmcuZmluZCA9IGZ1bmN0aW9uKHNjb3BlKSB7DQogICAgICAgIHZhciByZXN1bHRzID0gYmluZGluZ0RlZi5maW5kKHNjb3BlKTsNCg0KICAgICAgICAvLyBPbmx5IHJldHVybiBlbGVtZW50cyB0aGF0IGFyZSBTaGlueSBvdXRwdXRzLCBub3Qgc3RhdGljIG9uZXMNCiAgICAgICAgdmFyIGR5bmFtaWNSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoIi5odG1sLXdpZGdldC1vdXRwdXQiKTsNCg0KICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2hhdGV2ZXIgY2F1c2VkIFNoaW55IHRvIHRoaW5rIHRoZXJlIG1pZ2h0IGJlDQogICAgICAgIC8vIG5ldyBkeW5hbWljIG91dHB1dHMsIGFsc28gY2F1c2VkIHRoZXJlIHRvIGJlIG5ldyBzdGF0aWMgb3V0cHV0cy4NCiAgICAgICAgLy8gU2luY2UgdGhlcmUgbWlnaHQgYmUgbG90cyBvZiBkaWZmZXJlbnQgaHRtbHdpZGdldHMgYmluZGluZ3MsIHdlDQogICAgICAgIC8vIHNjaGVkdWxlIGV4ZWN1dGlvbiBmb3IgbGF0ZXItLW5vIG5lZWQgdG8gc3RhdGljUmVuZGVyIG11bHRpcGxlDQogICAgICAgIC8vIHRpbWVzLg0KICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT09IGR5bmFtaWNSZXN1bHRzLmxlbmd0aCkNCiAgICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlcigpOw0KDQogICAgICAgIHJldHVybiBkeW5hbWljUmVzdWx0czsNCiAgICAgIH07DQoNCiAgICAgIC8vIFdyYXAgcmVuZGVyVmFsdWUgdG8gaGFuZGxlIGluaXRpYWxpemF0aW9uLCB3aGljaCB1bmZvcnR1bmF0ZWx5IGlzbid0DQogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLg0KDQogICAgICBzaGlueUJpbmRpbmcucmVuZGVyVmFsdWUgPSBmdW5jdGlvbihlbCwgZGF0YSkgew0KICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cw0KICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgZGF0YS5ldmFscyAmJiBpIDwgZGF0YS5ldmFscy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNbaV0pOw0KICAgICAgICB9DQogICAgICAgIGlmICghYmluZGluZ0RlZi5yZW5kZXJPbk51bGxWYWx1ZSkgew0KICAgICAgICAgIGlmIChkYXRhLnggPT09IG51bGwpIHsNCiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJpbmhlcml0IjsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsNCiAgICAgICAgICBpbml0U2l6aW5nKGVsKTsNCg0KICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiLCB0cnVlKTsNCiAgICAgICAgICBpZiAoYmluZGluZ0RlZi5pbml0aWFsaXplKSB7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gYmluZGluZ0RlZi5pbml0aWFsaXplKGVsLCBlbC5vZmZzZXRXaWR0aCwNCiAgICAgICAgICAgICAgZWwub2Zmc2V0SGVpZ2h0KTsNCiAgICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCByZXN1bHQpOw0KICAgICAgICAgIH0NCiAgICAgICAgICBldmFsQW5kUnVuKGRhdGEuanNIb29rcy5yZW5kZXIsIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKSwgW2VsLCBkYXRhLnhdKTsNCiAgICAgICAgfQ0KICAgICAgICBTaGlueS5yZW5kZXJEZXBlbmRlbmNpZXMoZGF0YS5kZXBzKTsNCiAgICAgICAgYmluZGluZ0RlZi5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOw0KICAgICAgfTsNCg0KICAgICAgLy8gT25seSBvdmVycmlkZSByZXNpemUgaWYgYmluZGluZ0RlZiBpbXBsZW1lbnRzIGl0DQogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsNCiAgICAgICAgc2hpbnlCaW5kaW5nLnJlc2l6ZSA9IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7DQogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbg0KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLg0KICAgICAgICAgIGlmIChlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsNCiAgICAgICAgICAgIGJpbmRpbmdEZWYucmVzaXplKGVsLCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IikpOw0KICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgIH0NCg0KICAgICAgU2hpbnkub3V0cHV0QmluZGluZ3MucmVnaXN0ZXIoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLm5hbWUpOw0KICAgIH0NCiAgfTsNCg0KICB2YXIgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gbnVsbDsNCiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7DQogICAgaWYgKCFzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQpIHsNCiAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7DQogICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsNCiAgICAgIH0sIDEpOw0KICAgIH0NCiAgfQ0KDQogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZw0KICAvLyBTdGF0aWNhbGx5IHJlbmRlciBhbGwgZWxlbWVudHMgdGhhdCBhcmUgb2YgdGhpcyB3aWRnZXQncyBjbGFzcw0KICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyID0gZnVuY3Rpb24oKSB7DQogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107DQogICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykgew0KICAgICAgdmFyIG1hdGNoZXMgPSBiaW5kaW5nLmZpbmQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsNCiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsNCiAgICAgICAgdmFyIHNpemVPYmogPSBpbml0U2l6aW5nKGVsLCBiaW5kaW5nKTsNCg0KICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZSArICIgaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIjsNCg0KICAgICAgICB2YXIgaW5pdFJlc3VsdDsNCiAgICAgICAgaWYgKGJpbmRpbmcuaW5pdGlhbGl6ZSkgew0KICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsDQogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsDQogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodA0KICAgICAgICAgICk7DQogICAgICAgICAgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIsIGluaXRSZXN1bHQpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGJpbmRpbmcucmVzaXplKSB7DQogICAgICAgICAgdmFyIGxhc3RTaXplID0ge307DQogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICB2YXIgc2l6ZSA9IHsNCiAgICAgICAgICAgICAgdzogc2l6ZU9iaiA/IHNpemVPYmouZ2V0V2lkdGgoKSA6IGVsLm9mZnNldFdpZHRoLA0KICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGlmIChzaXplLncgPT09IDAgJiYgc2l6ZS5oID09PSAwKQ0KICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkNCiAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOw0KICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsNCiAgICAgICAgICB9Ow0KDQogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7DQoNCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55DQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQNCiAgICAgICAgICAvLyByYXRoZXIgYSBzaW1wbGUgc3RhdGljIHdpZGdldC4gT25lIGV4YW1wbGUgb2YgdGhpcyBpcw0KICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQNCiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvDQogICAgICAgICAgLy8gY2FsbCByZXNpemUgaGFuZGxlcnMgZm9yIFNoaW55IG91dHB1dHMsIG5vdCBmb3Igc3RhdGljDQogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLg0KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7DQogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigic2hvd24uaHRtbHdpZGdldHMgc2hvd24uYnMudGFiLmh0bWx3aWRnZXRzIiwgcmVzaXplSGFuZGxlcik7DQogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMiLCByZXNpemVIYW5kbGVyKTsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgdGhlIHNwZWNpZmljIGNhc2Ugb2YgaW9zbGlkZXMsIHdoaWNoDQogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLg0KICAgICAgICAgIC8vIElkZWFsbHkgd2Ugd291bGQgbm90IGhhdmUgdG8gaGF2ZSBpb3NsaWRlLXNwZWNpZmljIGNvZGUNCiAgICAgICAgICAvLyBoZXJlLCBidXQgcmF0aGVyIGhhdmUgaW9zbGlkZXMgcmFpc2UgYSBnZW5lcmljIGV2ZW50LA0KICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlDQogICAgICAgICAgLy8gd2luZG93IHRvIGdldHRpbmcgdGhhdCBmaXhlZCBtYXkgYmUgbG9uZy4NCiAgICAgICAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHsNCiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcg0KICAgICAgICAgICAgLy8gYnJvd3NlcnMgYmVjYXVzZSBpb3NsaWRlcyBpdHNlbGYgb25seSBzdXBwb3J0cw0KICAgICAgICAgICAgLy8gc3VjaCBicm93c2Vycy4NCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOw0KICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWxlYXZlIiwgcmVzaXplSGFuZGxlcik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIHNjcmlwdERhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHRbZGF0YS1mb3I9JyIgKyBlbC5pZCArICInXVt0eXBlPSdhcHBsaWNhdGlvbi9qc29uJ10iKTsNCiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsNCiAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc2NyaXB0RGF0YS50ZXh0Q29udGVudCB8fCBzY3JpcHREYXRhLnRleHQpOw0KICAgICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzDQogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsNCiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgZGF0YS5ldmFscyAmJiBrIDwgZGF0YS5ldmFscy5sZW5ndGg7IGsrKykgew0KICAgICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1trXSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIGJpbmRpbmcucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgaW5pdFJlc3VsdCk7DQogICAgICAgICAgZXZhbEFuZFJ1bihkYXRhLmpzSG9va3MucmVuZGVyLCBpbml0UmVzdWx0LCBbZWwsIGRhdGEueF0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9KTsNCg0KICAgIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpOw0KICB9DQoNCiAgLy8gV2FpdCB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaGFzIGxvYWRlZCB0byByZW5kZXIgdGhlIHdpZGdldHMuDQogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uKCkgew0KICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsNCiAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsNCiAgICB9LCBmYWxzZSk7DQogIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHsNCiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgZnVuY3Rpb24oKSB7DQogICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIikgew0KICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgYXJndW1lbnRzLmNhbGxlZSk7DQogICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsNCiAgICAgIH0NCiAgICB9KTsNCiAgfQ0KDQoNCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEF0dGFjaG1lbnRVcmwgPSBmdW5jdGlvbihkZXBuYW1lLCBrZXkpIHsNCiAgICAvLyBJZiBubyBrZXksIGRlZmF1bHQgdG8gdGhlIGZpcnN0IGl0ZW0NCiAgICBpZiAodHlwZW9mKGtleSkgPT09ICJ1bmRlZmluZWQiKQ0KICAgICAga2V5ID0gMTsNCg0KICAgIHZhciBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVwbmFtZSArICItIiArIGtleSArICItYXR0YWNobWVudCIpOw0KICAgIGlmICghbGluaykgew0KICAgICAgdGhyb3cgbmV3IEVycm9yKCJBdHRhY2htZW50ICIgKyBkZXBuYW1lICsgIi8iICsga2V5ICsgIiBub3QgZm91bmQgaW4gZG9jdW1lbnQiKTsNCiAgICB9DQogICAgcmV0dXJuIGxpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7DQogIH07DQoNCiAgd2luZG93LkhUTUxXaWRnZXRzLmRhdGFmcmFtZVRvRDMgPSBmdW5jdGlvbihkZikgew0KICAgIHZhciBuYW1lcyA9IFtdOw0KICAgIHZhciBsZW5ndGg7DQogICAgZm9yICh2YXIgbmFtZSBpbiBkZikgew0KICAgICAgICBpZiAoZGYuaGFzT3duUHJvcGVydHkobmFtZSkpDQogICAgICAgICAgICBuYW1lcy5wdXNoKG5hbWUpOw0KICAgICAgICBpZiAodHlwZW9mKGRmW25hbWVdKSAhPT0gIm9iamVjdCIgfHwgdHlwZW9mKGRmW25hbWVdLmxlbmd0aCkgPT09ICJ1bmRlZmluZWQiKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkFsbCBmaWVsZHMgbXVzdCBiZSBhcnJheXMiKTsNCiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobGVuZ3RoKSAhPT0gInVuZGVmaW5lZCIgJiYgbGVuZ3RoICE9PSBkZltuYW1lXS5sZW5ndGgpIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGgiKTsNCiAgICAgICAgfQ0KICAgICAgICBsZW5ndGggPSBkZltuYW1lXS5sZW5ndGg7DQogICAgfQ0KICAgIHZhciByZXN1bHRzID0gW107DQogICAgdmFyIGl0ZW07DQogICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbGVuZ3RoOyByb3crKykgew0KICAgICAgICBpdGVtID0ge307DQogICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5hbWVzLmxlbmd0aDsgY29sKyspIHsNCiAgICAgICAgICAgIGl0ZW1bbmFtZXNbY29sXV0gPSBkZltuYW1lc1tjb2xdXVtyb3ddOw0KICAgICAgICB9DQogICAgICAgIHJlc3VsdHMucHVzaChpdGVtKTsNCiAgICB9DQogICAgcmV0dXJuIHJlc3VsdHM7DQogIH07DQoNCiAgd2luZG93LkhUTUxXaWRnZXRzLnRyYW5zcG9zZUFycmF5MkQgPSBmdW5jdGlvbihhcnJheSkgew0KICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFycmF5Ow0KICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXlbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkgew0KICAgICAgICAgIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24ocm93KSB7DQogICAgICAgICAgICAgIHJldHVybiByb3dbaV0NCiAgICAgICAgICB9KQ0KICAgICAgfSk7DQogICAgICByZXR1cm4gbmV3QXJyYXk7DQogIH07DQogIC8vIFNwbGl0IHZhbHVlIGF0IHNwbGl0Q2hhciwgYnV0IGFsbG93IHNwbGl0Q2hhciB0byBiZSBlc2NhcGVkDQogIC8vIHVzaW5nIGVzY2FwZUNoYXIuIEFueSBvdGhlciBjaGFyYWN0ZXJzIGVzY2FwZWQgYnkgZXNjYXBlQ2hhcg0KICAvLyB3aWxsIGJlIGluY2x1ZGVkIGFzIHVzdWFsIChpbmNsdWRpbmcgZXNjYXBlQ2hhciBpdHNlbGYpLg0KICBmdW5jdGlvbiBzcGxpdFdpdGhFc2NhcGUodmFsdWUsIHNwbGl0Q2hhciwgZXNjYXBlQ2hhcikgew0KICAgIHZhciByZXN1bHRzID0gW107DQogICAgdmFyIGVzY2FwZU1vZGUgPSBmYWxzZTsNCiAgICB2YXIgY3VycmVudFJlc3VsdCA9ICIiOw0KICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHZhbHVlLmxlbmd0aDsgcG9zKyspIHsNCiAgICAgIGlmICghZXNjYXBlTW9kZSkgew0KICAgICAgICBpZiAodmFsdWVbcG9zXSA9PT0gc3BsaXRDaGFyKSB7DQogICAgICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOw0KICAgICAgICAgIGN1cnJlbnRSZXN1bHQgPSAiIjsNCiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVtwb3NdID09PSBlc2NhcGVDaGFyKSB7DQogICAgICAgICAgZXNjYXBlTW9kZSA9IHRydWU7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107DQogICAgICAgIGVzY2FwZU1vZGUgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogICAgaWYgKGN1cnJlbnRSZXN1bHQgIT09ICIiKSB7DQogICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7DQogICAgfQ0KICAgIHJldHVybiByZXN1bHRzOw0KICB9DQogIC8vIEZ1bmN0aW9uIGF1dGhvcmVkIGJ5IFlpaHVpL0pKIEFsbGFpcmUNCiAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyID0gZnVuY3Rpb24obywgbWVtYmVyKSB7DQogICAgdmFyIHBhcnRzID0gc3BsaXRXaXRoRXNjYXBlKG1lbWJlciwgJy4nLCAnXFwnKTsNCiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgew0KICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsNCiAgICAgIC8vIHBhcnQgbWF5IGJlIGEgY2hhcmFjdGVyIG9yICdudW1lcmljJyBtZW1iZXIgbmFtZQ0KICAgICAgaWYgKG8gIT09IG51bGwgJiYgdHlwZW9mIG8gPT09ICJvYmplY3QiICYmIHBhcnQgaW4gbykgew0KICAgICAgICBpZiAoaSA9PSAobCAtIDEpKSB7IC8vIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIHRoZW4gZXZhbHVsYXRlDQogICAgICAgICAgaWYgKHR5cGVvZiBvW3BhcnRdID09PSAic3RyaW5nIikNCiAgICAgICAgICAgIG9bcGFydF0gPSBldmFsKCIoIiArIG9bcGFydF0gKyAiKSIpOw0KICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UgY29udGludWUgdG8gbmV4dCBlbWJlZGRlZCBvYmplY3QNCiAgICAgICAgICBvID0gb1twYXJ0XTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfTsNCg0KICAvLyBSZXRyaWV2ZSB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGFuDQogIC8vIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pDQogIC8vIGFzc29jaWF0ZWQgd2l0aCBhbiBlbGVtZW50LCBvciBudWxsIGlmIG5vbmUuDQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGVsKSB7DQogICAgcmV0dXJuIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiKTsNCiAgfTsNCg0KICAvLyBGaW5kcyB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaGVzIHRoZSBzZWxlY3RvciwNCiAgLy8gYW5kIHJldHVybnMgdGhlIEhUTUxXaWRnZXQgaW5zdGFuY2UgKGkuZS4gdGhlIHJldHVybiB2YWx1ZSBvZg0KICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQ0KICAvLyBhc3NvY2lhdGVkIHdpdGggdGhhdCBlbGVtZW50LCBpZiBhbnkuIElmIG5vIGVsZW1lbnQgbWF0Y2hlcyB0aGUNCiAgLy8gc2VsZWN0b3IsIG9yIHRoZSBmaXJzdCBtYXRjaGluZyBlbGVtZW50IGhhcyBubyBIVE1MV2lkZ2V0DQogIC8vIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCwgdGhlbiBudWxsIGlzIHJldHVybmVkLg0KICAvLw0KICAvLyBUaGUgc2NvcGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGFuZCBkZWZhdWx0cyB0byB3aW5kb3cuZG9jdW1lbnQuDQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7DQogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgew0KICAgICAgc2VsZWN0b3IgPSBzY29wZTsNCiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7DQogICAgfQ0KDQogICAgdmFyIGVsID0gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7DQogICAgaWYgKGVsID09PSBudWxsKSB7DQogICAgICByZXR1cm4gbnVsbDsNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShlbCk7DQogICAgfQ0KICB9Ow0KDQogIC8vIEZpbmRzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2NvcGUgdGhhdCBtYXRjaCB0aGUgc2VsZWN0b3IsIGFuZA0KICAvLyByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlcyAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlcyBvZg0KICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQ0KICAvLyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRzLCBpbiBhbiBhcnJheS4gSWYgZWxlbWVudHMgdGhhdA0KICAvLyBtYXRjaCB0aGUgc2VsZWN0b3IgZG9uJ3QgaGF2ZSBhbiBhc3NvY2lhdGVkIEhUTUxXaWRnZXQNCiAgLy8gaW5zdGFuY2UsIHRoZSByZXR1cm5lZCBhcnJheSB3aWxsIGNvbnRhaW4gbnVsbHMuDQogIC8vDQogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4NCiAgd2luZG93LkhUTUxXaWRnZXRzLmZpbmRBbGwgPSBmdW5jdGlvbihzY29wZSwgc2VsZWN0b3IpIHsNCiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7DQogICAgICBzZWxlY3RvciA9IHNjb3BlOw0KICAgICAgc2NvcGUgPSBkb2N1bWVudDsNCiAgICB9DQoNCiAgICB2YXIgbm9kZXMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsNCiAgICB2YXIgcmVzdWx0cyA9IFtdOw0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgIHJlc3VsdHMucHVzaCh3aW5kb3cuSFRNTFdpZGdldHMuZ2V0SW5zdGFuY2Uobm9kZXNbaV0pKTsNCiAgICB9DQogICAgcmV0dXJuIHJlc3VsdHM7DQogIH07DQoNCiAgdmFyIHBvc3RSZW5kZXJIYW5kbGVycyA9IFtdOw0KICBmdW5jdGlvbiBpbnZva2VQb3N0UmVuZGVySGFuZGxlcnMoKSB7DQogICAgd2hpbGUgKHBvc3RSZW5kZXJIYW5kbGVycy5sZW5ndGgpIHsNCiAgICAgIHZhciBoYW5kbGVyID0gcG9zdFJlbmRlckhhbmRsZXJzLnNoaWZ0KCk7DQogICAgICBpZiAoaGFuZGxlcikgew0KICAgICAgICBoYW5kbGVyKCk7DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgLy8gUmVnaXN0ZXIgdGhlIGdpdmVuIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYWZ0ZXIgdGhlDQogIC8vIG5leHQgdGltZSBzdGF0aWMgd2lkZ2V0cyBhcmUgcmVuZGVyZWQuDQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5hZGRQb3N0UmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7DQogICAgcG9zdFJlbmRlckhhbmRsZXJzLnB1c2goY2FsbGJhY2spOw0KICB9Ow0KDQogIC8vIFRha2VzIGEgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb24sIGFuZCByZXR1cm5zIGFuDQogIC8vIG9sZC1zdHlsZSBjbGFzcy1ib3VuZCBkZWZpbml0aW9uLiBUaGlzIHNhdmVzIHVzIGZyb20gaGF2aW5nDQogIC8vIHRvIHJld3JpdGUgYWxsIHRoZSBsb2dpYyBpbiB0aGlzIGZpbGUgdG8gYWNjb21vZGF0ZSBib3RoDQogIC8vIHR5cGVzIG9mIGRlZmluaXRpb25zLg0KICBmdW5jdGlvbiBjcmVhdGVMZWdhY3lEZWZpbml0aW9uQWRhcHRlcihkZWZuKSB7DQogICAgdmFyIHJlc3VsdCA9IHsNCiAgICAgIG5hbWU6IGRlZm4ubmFtZSwNCiAgICAgIHR5cGU6IGRlZm4udHlwZSwNCiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7DQogICAgICAgIHJldHVybiBkZWZuLmZhY3RvcnkoZWwsIHdpZHRoLCBoZWlnaHQpOw0KICAgICAgfSwNCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsNCiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlbmRlclZhbHVlKHgpOw0KICAgICAgfSwNCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQsIGluc3RhbmNlKSB7DQogICAgICAgIHJldHVybiBpbnN0YW5jZS5yZXNpemUod2lkdGgsIGhlaWdodCk7DQogICAgICB9DQogICAgfTsNCg0KICAgIGlmIChkZWZuLmZpbmQpDQogICAgICByZXN1bHQuZmluZCA9IGRlZm4uZmluZDsNCiAgICBpZiAoZGVmbi5yZW5kZXJFcnJvcikNCiAgICAgIHJlc3VsdC5yZW5kZXJFcnJvciA9IGRlZm4ucmVuZGVyRXJyb3I7DQogICAgaWYgKGRlZm4uY2xlYXJFcnJvcikNCiAgICAgIHJlc3VsdC5jbGVhckVycm9yID0gZGVmbi5jbGVhckVycm9yOw0KDQogICAgcmV0dXJuIHJlc3VsdDsNCiAgfQ0KfSkoKTsNCjwvc2NyaXB0Pg0KDQo8IS0tIDxsaW5rIGhyZWY9IjAwMV9maWxlcy9wbG90bHlqcy0xLjEwLjEvcGxvdGx5LWh0bWx3aWRnZXRzLmNzcyIgcmVsPSJzdHlsZXNoZWV0IiAvPiAtLT4NCjxzdHlsZT4NCi8qDQpqdXN0IGhlcmUgc28gdGhhdCBwbG90bHkgd29ya3MNCmNvcnJlY3RseSB3aXRoIGlvc2xpZGVzLg0Kc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yb3BlbnNjaS9wbG90bHkvaXNzdWVzLzQ2Mw0KKi8NCg0Kc2xpZGU6bm90KC5jdXJyZW50KSAucGxvdGx5Lmh0bWwtd2lkZ2V0ew0KICBkaXNwbGF5OiBub25lOw0KfQ0KPC9zdHlsZT4NCg0KPCEtLSA8c2NyaXB0IHNyYz0iMDAxX2ZpbGVzL3Bsb3RseWpzLTEuMTAuMS9wbG90bHktbGF0ZXN0Lm1pbi5qcyI+PC9zY3JpcHQ+IC0tPg0KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLnBsb3QubHkvcGxvdGx5LTEuMTAuMS5taW4uanMiPjwvc2NyaXB0Pg0KDQo8IS0tIDxzY3JpcHQgc3JjPSIwMDFfZmlsZXMvcGxvdGx5LWJpbmRpbmctMy42LjAvcGxvdGx5LmpzIj48L3NjcmlwdD4gLS0+DQo8c2NyaXB0Pg0KSFRNTFdpZGdldHMud2lkZ2V0KHsNCiAgbmFtZTogInBsb3RseSIsDQogIHR5cGU6ICJvdXRwdXQiLA0KICANCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsNCiAgICByZXR1cm4ge307DQogIH0sDQogIA0KICByZXNpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0LCBpbnN0YW5jZSkgew0KICAgIGlmIChpbnN0YW5jZS5hdXRvc2l6ZSkgew0KICAgICAgUGxvdGx5LnJlbGF5b3V0KGVsLmlkLCB7d2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodH0pOw0KICAgIH0NCiAgfSwgIA0KICANCiAgcmVuZGVyVmFsdWU6IGZ1bmN0aW9uKGVsLCB4LCBpbnN0YW5jZSkgew0KICAgIA0KICAgIHZhciBzaGlueU1vZGU7DQogICAgaWYgKHR5cGVvZih3aW5kb3cpICE9PSAidW5kZWZpbmVkIikgew0KICAgICAgLy8gbWFrZSBzdXJlIHBsb3RzIGRvbid0IGdldCBjcmVhdGVkIG91dHNpZGUgdGhlIG5ldHdvcmsNCiAgICAgIHdpbmRvdy5QTE9UTFlFTlYgPSB3aW5kb3cuUExPVExZRU5WIHx8IHt9Ow0KICAgICAgd2luZG93LlBMT1RMWUVOVi5CQVNFX1VSTCA9IHguYmFzZV91cmw7DQogICAgICBzaGlueU1vZGUgPSAhIXdpbmRvdy5TaGlueTsNCiAgICB9DQogICAgDQogICAgdmFyIGdyYXBoRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWwuaWQpOw0KICAgIA0KICAgIC8vIGlmIG5vIHBsb3QgZXhpc3RzIHlldCwgY3JlYXRlIG9uZSB3aXRoIGEgcGFydGljdWxhciBjb25maWd1cmF0aW9uDQogICAgaWYgKCFpbnN0YW5jZS5wbG90bHkpIHsNCiAgICAgIFBsb3RseS5wbG90KGdyYXBoRGl2LCB4LmRhdGEsIHgubGF5b3V0LCB4LmNvbmZpZyk7DQogICAgICBpbnN0YW5jZS5wbG90bHkgPSB0cnVlOw0KICAgICAgaW5zdGFuY2UuYXV0b3NpemUgPSB4LmxheW91dC5hdXRvc2l6ZTsNCiAgICB9IGVsc2Ugew0KICAgICAgUGxvdGx5Lm5ld1Bsb3QoZ3JhcGhEaXYsIHguZGF0YSwgeC5sYXlvdXQpOw0KICAgIH0NCiAgICANCiAgICBzZW5kRXZlbnREYXRhID0gZnVuY3Rpb24oZXZlbnRUeXBlKSB7DQogICAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnREYXRhKSB7DQogICAgICAgIGlmIChldmVudERhdGEgPT09IHVuZGVmaW5lZCB8fCAhZXZlbnREYXRhLmhhc093blByb3BlcnR5KCJwb2ludHMiKSkgew0KICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9DQogICAgICAgIHZhciBkID0gZXZlbnREYXRhLnBvaW50cy5tYXAoZnVuY3Rpb24ocHQpIHsNCiAgICAgICAgICB2YXIgb2JqID0gew0KICAgICAgICAgICAgICAgIGN1cnZlTnVtYmVyOiBwdC5jdXJ2ZU51bWJlciwgDQogICAgICAgICAgICAgICAgcG9pbnROdW1iZXI6IHB0LnBvaW50TnVtYmVyLCANCiAgICAgICAgICAgICAgICB4OiBwdC54LA0KICAgICAgICAgICAgICAgIHk6IHB0LnkNCiAgICAgICAgICB9Ow0KICAgICAgICAgIC8vIGdyYWIgdGhlIHRyYWNlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBwb2ludA0KICAgICAgICAgIHZhciB0ciA9IHguZGF0YVtwdC5jdXJ2ZU51bWJlcl07DQogICAgICAgICAgLy8gYWRkIG9uIGFkZGl0aW9uYWwgdHJhY2UgaW5mbywgaWYgaXQgZXhpc3RzDQogICAgICAgICAgYXR0YWNoS2V5ID0gZnVuY3Rpb24oa2V5TmFtZSkgew0KICAgICAgICAgICAgaWYgKHRyLmhhc093blByb3BlcnR5KGtleU5hbWUpICYmIHRyW2tleU5hbWVdICE9PSBudWxsKSB7DQogICAgICAgICAgICAgIGlmICh0eXBlb2YgcHQucG9pbnROdW1iZXIgPT09ICJudW1iZXIiKSB7DQogICAgICAgICAgICAgICAgb2JqW2tleU5hbWVdID0gdHJba2V5TmFtZV1bcHQucG9pbnROdW1iZXJdOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9ialtrZXlOYW1lXSA9IHRyW2tleU5hbWVdW3B0LnBvaW50TnVtYmVyWzBdXVtwdC5wb2ludE51bWJlclsxXV07DQogICAgICAgICAgICAgIH0vLyBUT0RPOiBjYW4gcG9pbnROdW1iZXIgYmUgM0Q/DQogICAgICAgICAgICB9DQogICAgICAgICAgfTsNCiAgICAgICAgICBhdHRhY2hLZXkoInoiKTsNCiAgICAgICAgICBhdHRhY2hLZXkoImtleSIpOw0KICAgICAgICAgIHJldHVybiBvYmo7IA0KICAgICAgICB9KTsNCiAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZSgNCiAgICAgICAgICAiLmNsaWVudFZhbHVlLSIgKyBldmVudFR5cGUgKyAiLSIgKyB4LnNvdXJjZSwgDQogICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZCkNCiAgICAgICAgKTsNCiAgICAgIH07DQogICAgfTsNCiAgICANCiAgICAvLyBzZW5kIHVzZXIgaW5wdXQgZXZlbnQgZGF0YSB0byBzaGlueQ0KICAgIGlmIChzaGlueU1vZGUpIHsNCiAgICAgIC8vIGh0dHBzOi8vcGxvdC5seS9qYXZhc2NyaXB0L3pvb20tZXZlbnRzLw0KICAgICAgZ3JhcGhEaXYub24oJ3Bsb3RseV9yZWxheW91dCcsIGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZSgNCiAgICAgICAgICAiLmNsaWVudFZhbHVlLSIgKyAicGxvdGx5X3JlbGF5b3V0IiArICItIiArIHguc291cmNlLCANCiAgICAgICAgICBKU09OLnN0cmluZ2lmeShkKQ0KICAgICAgICApOw0KICAgICAgfSk7DQogICAgICBncmFwaERpdi5vbigncGxvdGx5X2hvdmVyJywgc2VuZEV2ZW50RGF0YSgncGxvdGx5X2hvdmVyJykpOw0KICAgICAgZ3JhcGhEaXYub24oJ3Bsb3RseV9jbGljaycsIHNlbmRFdmVudERhdGEoJ3Bsb3RseV9jbGljaycpKTsNCiAgICAgIGdyYXBoRGl2Lm9uKCdwbG90bHlfc2VsZWN0ZWQnLCBzZW5kRXZlbnREYXRhKCdwbG90bHlfc2VsZWN0ZWQnKSk7DQogICAgICBncmFwaERpdi5vbigncGxvdGx5X3VuaG92ZXInLCBmdW5jdGlvbihldmVudERhdGEpIHsNCiAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZSgiLmNsaWVudFZhbHVlLXBsb3RseV9ob3Zlci0iICsgeC5zb3VyY2UsIG51bGwpOw0KICAgICAgfSk7DQogICAgICBncmFwaERpdi5vbigncGxvdGx5X2RvdWJsZWNsaWNrJywgZnVuY3Rpb24oZXZlbnREYXRhKSB7DQogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoIi5jbGllbnRWYWx1ZS1wbG90bHlfY2xpY2stIiArIHguc291cmNlLCBudWxsKTsNCiAgICAgIH0pOw0KICAgICAgLy8gJ3Bsb3RseV9kZXNlbGVjdCcgaXMgY29kZSBmb3IgZG91YmxlY2xpY2sgd2hlbiBpbiBzZWxlY3QgbW9kZQ0KICAgICAgZ3JhcGhEaXYub24oJ3Bsb3RseV9kZXNlbGVjdCcsIGZ1bmN0aW9uKGV2ZW50RGF0YSkgew0KICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKCIuY2xpZW50VmFsdWUtcGxvdGx5X3NlbGVjdGVkLSIgKyB4LnNvdXJjZSwgbnVsbCk7DQogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UoIi5jbGllbnRWYWx1ZS1wbG90bHlfY2xpY2stIiArIHguc291cmNlLCBudWxsKTsNCiAgICAgIH0pOw0KICAgIH0gDQogICAgDQogIH0gDQogIA0KfSk7DQo8L3NjcmlwdD4NCg0KPC9oZWFkPg0KPGJvZHkgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6d2hpdGU7Ij4NCjxkaXYgaWQ9Imh0bWx3aWRnZXRfY29udGFpbmVyIj4NCiAgPGRpdiBpZD0iaHRtbHdpZGdldC00MTE0IiBzdHlsZT0id2lkdGg6MTAwJTtoZWlnaHQ6NDAwcHg7IiBjbGFzcz0icGxvdGx5IGh0bWwtd2lkZ2V0Ij48L2Rpdj4NCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJhcHBsaWNhdGlvbi9qc29uIiBkYXRhLWZvcj0iaHRtbHdpZGdldC00MTE0Ij57IngiOnsiZGF0YSI6W3sidHlwZSI6InN1cmZhY2UiLCJpbmhlcml0IjpmYWxzZSwieiI6W1sxMDAsMTAwLDEwMSwxMDEsMTAxLDEwMSwxMDEsMTAwLDEwMCwxMDAsMTAxLDEwMSwxMDIsMTAyLDEwMiwxMDIsMTAzLDEwNCwxMDMsMTAyLDEwMSwxMDEsMTAyLDEwMywxMDQsMTA0LDEwNSwxMDcsMTA3LDEwNywxMDgsMTA4LDExMCwxMTAsMTEwLDExMCwxMTAsMTEwLDExMCwxMTAsMTA4LDEwOCwxMDgsMTA3LDEwNywxMDgsMTA4LDEwOCwxMDgsMTA4LDEwNywxMDcsMTA3LDEwNywxMDYsMTA2LDEwNSwxMDUsMTA0LDEwNCwxMDNdLFsxMDEsMTAxLDEwMiwxMDIsMTAyLDEwMiwxMDIsMTAxLDEwMSwxMDEsMTAyLDEwMiwxMDMsMTAzLDEwMywxMDMsMTA0LDEwNSwxMDQsMTAzLDEwMiwxMDIsMTAzLDEwNSwxMDYsMTA2LDEwNywxMDksMTEwLDExMCwxMTAsMTEwLDExMSwxMTIsMTEzLDExNCwxMTYsMTE1LDExNCwxMTIsMTEwLDExMCwxMTAsMTA5LDEwOCwxMDksMTA5LDEwOSwxMDksMTA4LDEwOCwxMDgsMTA4LDEwNywxMDcsMTA2LDEwNiwxMDUsMTA1LDEwNCwxMDRdLFsxMDIsMTAyLDEwMywxMDMsMTAzLDEwMywxMDMsMTAyLDEwMiwxMDIsMTAzLDEwMywxMDQsMTA0LDEwNCwxMDQsMTA1LDEwNiwxMDUsMTA0LDEwNCwxMDUsMTA2LDEwNywxMDgsMTEwLDExMSwxMTMsMTE0LDExNSwxMTQsMTE1LDExNiwxMTgsMTE5LDExOSwxMjEsMTIxLDEyMCwxMTgsMTE2LDExNCwxMTIsMTExLDExMCwxMTAsMTEwLDExMCwxMDksMTA5LDEwOSwxMDksMTA4LDEwOCwxMDcsMTA3LDEwNiwxMDYsMTA1LDEwNSwxMDRdLFsxMDMsMTAzLDEwNCwxMDQsMTA0LDEwNCwxMDQsMTAzLDEwMywxMDMsMTAzLDEwNCwxMDQsMTA0LDEwNSwxMDUsMTA2LDEwNywxMDYsMTA2LDEwNiwxMDcsMTA4LDExMCwxMTEsMTE0LDExNywxMTgsMTE3LDExOSwxMjAsMTIxLDEyMiwxMjQsMTI1LDEyNiwxMjcsMTI3LDEyNiwxMjQsMTIyLDEyMCwxMTcsMTE2LDExMywxMTEsMTEwLDExMCwxMTAsMTA5LDEwOSwxMDksMTA5LDEwOCwxMDgsMTA3LDEwNywxMDYsMTA2LDEwNSwxMDVdLFsxMDQsMTA0LDEwNSwxMDUsMTA1LDEwNSwxMDUsMTA0LDEwNCwxMDMsMTA0LDEwNCwxMDUsMTA1LDEwNSwxMDYsMTA3LDEwOCwxMDgsMTA4LDEwOSwxMTAsMTEyLDExNCwxMTUsMTE4LDEyMSwxMjIsMTIxLDEyMywxMjgsMTMxLDEyOSwxMzAsMTMxLDEzMSwxMzIsMTMyLDEzMSwxMzAsMTI4LDEyNiwxMjIsMTE5LDExNSwxMTQsMTEyLDExMCwxMTAsMTEwLDExMCwxMTAsMTA5LDEwOSwxMDgsMTA3LDEwNywxMDcsMTA2LDEwNiwxMDVdLFsxMDUsMTA1LDEwNSwxMDYsMTA2LDEwNiwxMDYsMTA1LDEwNSwxMDQsMTA0LDEwNSwxMDUsMTA2LDEwNiwxMDcsMTA5LDExMCwxMTAsMTEyLDExMywxMTUsMTE2LDExOCwxMTksMTIxLDEyNCwxMjYsMTI2LDEyOSwxMzQsMTM3LDEzNywxMzYsMTM2LDEzNSwxMzYsMTM2LDEzNiwxMzUsMTMzLDEyOSwxMjYsMTIyLDExOCwxMTYsMTE1LDExMywxMTEsMTEwLDExMCwxMTAsMTEwLDEwOSwxMDgsMTA4LDEwOCwxMDcsMTA3LDEwNiwxMDZdLFsxMDUsMTA2LDEwNiwxMDcsMTA3LDEwNywxMDcsMTA2LDEwNiwxMDUsMTA1LDEwNiwxMDYsMTA3LDEwOCwxMDksMTExLDExMywxMTQsMTE2LDExOCwxMjAsMTIxLDEyMiwxMjMsMTI1LDEyNywxMjksMTMwLDEzNSwxNDAsMTQyLDE0MiwxNDIsMTQxLDE0MCwxNDAsMTQwLDE0MCwxMzksMTM3LDEzNCwxMjksMTI1LDEyMSwxMTgsMTE2LDExNCwxMTIsMTEwLDExMCwxMTAsMTExLDExMCwxMDksMTA5LDEwOCwxMDgsMTA3LDEwNywxMDZdLFsxMDYsMTA3LDEwNywxMDgsMTA4LDEwOCwxMDgsMTA3LDEwNywxMDYsMTA2LDEwNywxMDgsMTA4LDExMCwxMTMsMTE1LDExNywxMTgsMTIwLDEyMiwxMjQsMTI1LDEyNywxMjgsMTI5LDEzMSwxMzQsMTM1LDE0MSwxNDYsMTQ3LDE0NiwxNDYsMTQ1LDE0NCwxNDQsMTQ0LDE0MywxNDIsMTQxLDEzOSwxMzUsMTMwLDEyNiwxMjIsMTE4LDExNiwxMTQsMTEyLDExMiwxMTMsMTEyLDExMCwxMTAsMTA5LDEwOSwxMDgsMTA4LDEwNywxMDZdLFsxMDcsMTA4LDEwOCwxMDksMTA5LDEwOSwxMDksMTA4LDEwOCwxMDcsMTA4LDEwOCwxMTAsMTExLDExMywxMTYsMTE4LDEyMCwxMjMsMTI1LDEyNywxMjksMTMwLDEzMiwxMzQsMTM1LDEzNywxMzksMTQyLDE0NiwxNTIsMTUyLDE1MSwxNTEsMTUwLDE0OSwxNDgsMTQ4LDE0NiwxNDUsMTQzLDE0MiwxMzksMTM1LDEzMSwxMjcsMTIyLDExOSwxMTcsMTE1LDExNSwxMTUsMTE0LDExMiwxMTAsMTEwLDEwOSwxMDksMTA4LDEwNywxMDddLFsxMDgsMTA5LDEwOSwxMTAsMTEwLDExMCwxMTAsMTA5LDEwOSwxMDgsMTEwLDExMCwxMTMsMTE2LDExOCwxMjAsMTIyLDEyNSwxMjcsMTI5LDEzMywxMzYsMTM4LDE0MCwxNDEsMTQyLDE0OCwxNTAsMTUxLDE1NiwxNTgsMTU5LDE1OCwxNTcsMTU4LDE1OCwxNTQsMTUxLDE0OSwxNDgsMTQ2LDE0NCwxNDEsMTM3LDEzNCwxMzAsMTI1LDEyMiwxMjAsMTE4LDExNywxMTcsMTE1LDExMywxMTEsMTEwLDExMCwxMDksMTA4LDEwNywxMDddLFsxMDksMTEwLDExMCwxMTEsMTExLDExMSwxMTEsMTEwLDExMCwxMTAsMTEyLDExNCwxMTgsMTIxLDEyMywxMjUsMTI3LDEyOSwxMzMsMTM3LDE0MSwxNDMsMTQ1LDE0NiwxNDgsMTUwLDE1NCwxNTYsMTU5LDE2MSwxNjIsMTYzLDE2NCwxNjMsMTY0LDE2NCwxNjAsMTU3LDE1NCwxNTEsMTQ5LDE0NiwxNDQsMTQwLDEzNywxMzMsMTI5LDEyNiwxMjQsMTIxLDExOSwxMTgsMTE2LDExNCwxMTIsMTExLDExMCwxMDksMTA4LDEwNywxMDZdLFsxMTAsMTEwLDExMSwxMTMsMTEyLDExMSwxMTMsMTEyLDExMiwxMTQsMTE2LDExOSwxMjEsMTI0LDEyNywxMjksMTMzLDEzOCwxNDMsMTQ2LDE0OSwxNDksMTUxLDE1MywxNTQsMTU3LDE1OSwxNjAsMTYzLDE2NSwxNjYsMTY3LDE2OCwxNjgsMTY4LDE2OCwxNjYsMTYyLDE1OSwxNTcsMTU0LDE1MiwxNDksMTQ0LDE0MCwxMzYsMTMzLDEzMSwxMjgsMTI1LDEyMiwxMTksMTE3LDExNSwxMTMsMTExLDExMCwxMDksMTA4LDEwNywxMDZdLFsxMTAsMTExLDExMywxMTUsMTE0LDExMywxMTQsMTE0LDExNSwxMTcsMTE5LDEyMSwxMjQsMTI2LDEyOSwxMzMsMTQwLDE0NSwxNTAsMTU0LDE1NSwxNTUsMTU3LDE1OSwxNjEsMTYyLDE2NCwxNjUsMTY3LDE2OCwxNjksMTcwLDE3MiwxNzQsMTcyLDE3MiwxNzEsMTY5LDE2NiwxNjMsMTYxLDE1OCwxNTMsMTQ4LDE0MywxNDAsMTM3LDEzNCwxMzEsMTI4LDEyNSwxMjAsMTE4LDExNiwxMTQsMTEyLDExMCwxMDksMTA4LDEwNywxMDVdLFsxMTEsMTEzLDExNSwxMTcsMTE2LDExNSwxMTYsMTE3LDExNywxMTksMTIxLDEyNCwxMjYsMTI4LDEzMiwxMzcsMTQzLDE1MSwxNTYsMTYxLDE2MSwxNjIsMTYzLDE2NSwxNjYsMTY3LDE2OCwxNzAsMTcxLDE3MywxNzUsMTc3LDE3OSwxNzgsMTc3LDE3NiwxNzYsMTc0LDE3MSwxNjksMTY1LDE2MSwxNTYsMTUyLDE0OCwxNDQsMTQwLDEzOCwxMzUsMTMxLDEyNywxMjMsMTE5LDExNywxMTUsMTEzLDExMSwxMTAsMTA4LDEwNiwxMDVdLFsxMTQsMTE1LDExNywxMTcsMTE3LDExOCwxMTksMTE5LDEyMCwxMjEsMTI0LDEyNiwxMjgsMTMxLDEzNywxNDMsMTUwLDE1NiwxNjAsMTYzLDE2NSwxNjgsMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc3LDE3OSwxODAsMTgyLDE4MywxODMsMTgzLDE4MywxODAsMTc4LDE3NywxNzIsMTY4LDE2NCwxNjAsMTU2LDE1MiwxNDgsMTQ0LDE0MSwxMzgsMTM0LDEzMCwxMjYsMTIxLDExNywxMTQsMTEyLDExMCwxMTAsMTA4LDEwNiwxMDRdLFsxMTYsMTE4LDExOCwxMTgsMTIwLDEyMSwxMjEsMTIyLDEyMiwxMjMsMTI1LDEyOCwxMzAsMTM0LDE0MSwxNDcsMTUyLDE1NiwxNjAsMTY1LDE2OCwxNzAsMTc0LDE3NiwxNzksMTgwLDE4MSwxODEsMTgyLDE4MiwxODMsMTg0LDE4NiwxODcsMTg3LDE4NCwxODQsMTgxLDE4MCwxNzYsMTcyLDE2OCwxNjUsMTYxLDE1NywxNTMsMTQ5LDE0NSwxNDIsMTM4LDEzMywxMjksMTI1LDEyMCwxMTUsMTExLDExMCwxMTAsMTA4LDEwNiwxMDRdLFsxMTgsMTIwLDEyMCwxMjEsMTIyLDEyMywxMjQsMTI0LDEyNSwxMjYsMTI3LDEyOSwxMzIsMTM1LDE0MiwxNDksMTUzLDE1NywxNjEsMTY2LDE3MCwxNzQsMTc4LDE4MCwxODIsMTgzLDE4NCwxODQsMTg1LDE4NiwxODYsMTg3LDE4OSwxODksMTg5LDE4OSwxODksMTg2LDE4MiwxNzksMTc1LDE3MSwxNjgsMTY1LDE2MiwxNTcsMTUyLDE0OSwxNDUsMTQxLDEzNywxMzEsMTI1LDEyMCwxMTYsMTExLDExMCwxMTAsMTA4LDEwNiwxMDRdLFsxMjAsMTIxLDEyMiwxMjMsMTI0LDEyNSwxMjYsMTI3LDEyNywxMjgsMTMwLDEzMiwxMzQsMTM3LDE0MiwxNTEsMTU1LDE1OCwxNjIsMTY5LDE3MiwxNzYsMTgxLDE4MywxODQsMTg2LDE4NywxODgsMTg5LDE4OSwxODksMTg5LDE5MCwxOTAsMTkxLDE5MCwxOTAsMTg4LDE4NiwxODMsMTgwLDE3NSwxNzEsMTY4LDE2NSwxNjEsMTU3LDE1MiwxNDksMTQ1LDE0MSwxMzQsMTI3LDEyMSwxMTYsMTEyLDExMCwxMTAsMTA4LDEwNiwxMDRdLFsxMjAsMTIyLDEyNSwxMjYsMTI2LDEyNywxMjgsMTI5LDEzMCwxMzAsMTMyLDEzNCwxMzYsMTM5LDE0NSwxNTIsMTU3LDE2MCwxNjcsMTcyLDE3NSwxNzgsMTgxLDE4NSwxODYsMTg4LDE5MCwxOTEsMTkyLDE5MywxOTMsMTkyLDE5MiwxOTEsMTkyLDE5MSwxOTEsMTkwLDE5MCwxODcsMTg0LDE4MSwxNzcsMTcyLDE2OSwxNjUsMTYxLDE1NiwxNTIsMTQ3LDE0MywxMzksMTMxLDEyMywxMTksMTE1LDExMSwxMTAsMTA4LDEwNiwxMDVdLFsxMjEsMTI0LDEyNiwxMjgsMTI5LDEyOSwxMzAsMTMxLDEzMiwxMzMsMTM1LDEzNywxMzksMTQzLDE1MCwxNTQsMTU5LDE2NCwxNzAsMTczLDE3NiwxNzksMTg0LDE4NiwxODksMTkwLDE5MSwxOTIsMTkzLDE5NCwxOTUsMTk0LDE5MywxOTIsMTkxLDE5MSwxOTEsMTkxLDE5MCwxOTAsMTg4LDE4NCwxODEsMTc3LDE3MywxNjksMTY1LDE2MCwxNTUsMTQ5LDE0NSwxNDIsMTM2LDEyOSwxMjMsMTE4LDExNCwxMTAsMTA4LDEwOCwxMDddLFsxMjIsMTI1LDEyNywxMzAsMTMwLDEzMSwxMzMsMTM0LDEzNSwxMzYsMTM3LDE0MCwxNDMsMTQ3LDE1NCwxNTgsMTYyLDE2NiwxNzEsMTc0LDE3NywxODEsMTg2LDE4OSwxOTAsMTkwLDE5MSwxOTIsMTkxLDE5MSwxOTAsMTg5LDE4OCwxODksMTkwLDE5MCwxOTEsMTkwLDE5MCwxOTAsMTg5LDE4NiwxODQsMTgxLDE3NywxNzMsMTY5LDE2NCwxNTgsMTUyLDE0OCwxNDQsMTQwLDEzNCwxMjUsMTE4LDExNSwxMTEsMTEwLDEwOCwxMDddLFsxMjIsMTI1LDEyOCwxMzAsMTMyLDEzMywxMzUsMTM2LDEzNywxMzksMTQwLDE0MywxNDcsMTUyLDE1NywxNjEsMTY0LDE2OCwxNzIsMTc1LDE3OSwxODIsMTg2LDE5MCwxOTAsMTkwLDE5MCwxODksMTg3LDE4NCwxODQsMTgzLDE4MiwxODIsMTgzLDE4MywxODMsMTg0LDE4NSwxODYsMTg3LDE4NiwxODUsMTg0LDE4MSwxNzcsMTczLDE2OSwxNjMsMTU3LDE0OSwxNDUsMTQxLDEzNiwxMzAsMTE5LDExNiwxMTIsMTEwLDEwOCwxMDZdLFsxMjMsMTI2LDEyOSwxMzEsMTMzLDEzNSwxMzcsMTM4LDEzOSwxNDEsMTQzLDE0NywxNTAsMTU2LDE2MSwxNjQsMTY3LDE3MCwxNzMsMTc3LDE4MSwxODQsMTg3LDE4OCwxOTAsMTg5LDE4NywxODUsMTgzLDE3OSwxNzYsMTc0LDE3NCwxNzQsMTc0LDE3NCwxNzYsMTc3LDE3OSwxODAsMTgyLDE4MywxODIsMTgxLDE4MSwxODAsMTc2LDE3MSwxNjYsMTYwLDE1MiwxNDcsMTQyLDEzOCwxMzMsMTI2LDEyMSwxMTUsMTEwLDEwNiwxMDVdLFsxMjQsMTI3LDEzMCwxMzIsMTM1LDEzNywxMzgsMTQwLDE0MiwxNDQsMTQ3LDE0OSwxNTQsMTU3LDE2MSwxNjUsMTY4LDE3MSwxNzUsMTc4LDE4MSwxODQsMTg2LDE4NywxODcsMTg0LDE4NCwxODEsMTc5LDE3NSwxNzEsMTY5LDE2OCwxNjgsMTY4LDE2OSwxNzAsMTcyLDE3NCwxNzcsMTc4LDE3OSwxODAsMTgxLDE4MSwxODAsMTc5LDE3NCwxNjcsMTYxLDE1NSwxNDgsMTQ0LDEzOSwxMzQsMTI4LDEyMSwxMTUsMTEwLDEwNiwxMDVdLFsxMjMsMTI4LDEzMSwxMzMsMTM2LDEzOCwxNDAsMTQyLDE0NCwxNDYsMTQ5LDE1MSwxNTQsMTU3LDE2MCwxNjQsMTY4LDE3MiwxNzUsMTc4LDE4MSwxODMsMTg0LDE4NCwxODUsMTgzLDE4MCwxNzcsMTc0LDE3MCwxNjcsMTY1LDE2NCwxNjQsMTY0LDE2NSwxNjYsMTY4LDE3MSwxNzUsMTc2LDE3OCwxODAsMTgxLDE4MCwxODAsMTc5LDE3NywxNzAsMTYzLDE1NywxNTAsMTQ0LDEzOSwxMzQsMTI4LDEyMSwxMTUsMTEwLDEwOCwxMDddLFsxMjMsMTI3LDEzMSwxMzQsMTM2LDEzOCwxNDAsMTQyLDE0NCwxNDcsMTQ5LDE1MSwxNTQsMTU3LDE2MCwxNjQsMTY4LDE3MSwxNzQsMTc4LDE4MCwxODEsMTgxLDE4MiwxODMsMTgxLDE3OCwxNzMsMTY5LDE2NiwxNjMsMTYxLDE2MSwxNjAsMTYwLDE2MSwxNjMsMTY1LDE2OCwxNzMsMTc2LDE3OCwxNzksMTgwLDE4MSwxODAsMTgwLDE3NSwxNzMsMTY2LDE1OSwxNTIsMTQ1LDEzOSwxMzQsMTI3LDEyMSwxMTUsMTEwLDEwOSwxMDhdLFsxMjAsMTI0LDEyOCwxMzEsMTM0LDEzNywxMzksMTQyLDE0NCwxNDYsMTQ5LDE1MSwxNTMsMTU2LDE2MCwxNjMsMTY3LDE3MSwxNzQsMTc4LDE4MCwxODAsMTgwLDE4MCwxODAsMTgwLDE3NSwxNzEsMTY3LDE2MiwxNjAsMTU4LDE1NywxNTcsMTU3LDE1OCwxNTksMTYyLDE2NiwxNzAsMTc1LDE3NywxNzgsMTgwLDE4MSwxODEsMTgwLDE3OCwxNzUsMTY5LDE2MCwxNTQsMTQ4LDE0MCwxMzQsMTI4LDEyMSwxMTUsMTEwLDExMCwxMDldLFsxMTgsMTIxLDEyNSwxMjksMTMyLDEzNCwxMzcsMTQwLDE0MiwxNDUsMTQ3LDE0OSwxNTEsMTU1LDE1OSwxNjMsMTY2LDE2OSwxNzMsMTc3LDE3OSwxODAsMTgwLDE4MCwxODAsMTc5LDE3NCwxNjksMTY2LDE2MSwxNTgsMTU2LDE1NCwxNTMsMTUzLDE1NCwxNTYsMTU5LDE2MywxNjksMTczLDE3NSwxNzgsMTgwLDE4MSwxODAsMTgwLDE3OSwxNzUsMTcwLDE2MCwxNTQsMTQ5LDE0MiwxMzUsMTI4LDEyMiwxMTYsMTExLDExMCwxMTBdLFsxMTcsMTIwLDEyMSwxMjUsMTI5LDEzMiwxMzUsMTM4LDE0MCwxNDMsMTQ1LDE0NywxNDksMTUzLDE1NywxNjAsMTYzLDE2NiwxNzEsMTc0LDE3NywxNzksMTgwLDE4MCwxODAsMTc5LDE3MiwxNjgsMTY0LDE2MCwxNTcsMTU0LDE1MSwxNDksMTUwLDE1MCwxNTQsMTU4LDE2NCwxNjksMTc0LDE3OCwxODAsMTgwLDE4MCwxODAsMTc4LDE3NywxNzUsMTcwLDE2MSwxNTMsMTQ4LDE0MiwxMzUsMTI5LDEyMywxMTYsMTEzLDExMiwxMTBdLFsxMTUsMTE4LDEyMCwxMjIsMTI2LDEzMCwxMzMsMTM2LDEzOCwxNDEsMTQzLDE0NSwxNDgsMTUxLDE1NCwxNTcsMTYwLDE2MywxNjgsMTcxLDE3NCwxNzcsMTc5LDE3OSwxNzksMTc2LDE3MSwxNjcsMTY0LDE2MCwxNTYsMTUzLDE0OSwxNDgsMTQ5LDE1MSwxNTUsMTU4LDE2MywxNzAsMTczLDE3NywxNzksMTgwLDE4MCwxODAsMTc4LDE3NSwxNzMsMTcxLDE2MiwxNTQsMTQ3LDE0MSwxMzYsMTMwLDEyNCwxMTcsMTE1LDExMiwxMTBdLFsxMTQsMTE2LDExOCwxMjAsMTIyLDEyNywxMzEsMTMzLDEzNiwxMzgsMTQxLDE0MywxNDYsMTQ4LDE1MSwxNTQsMTU3LDE2MCwxNjQsMTY4LDE3MSwxNzQsMTc4LDE3OCwxNzksMTc3LDE3MywxNjksMTY1LDE2MSwxNTcsMTU0LDE1MSwxNDksMTUwLDE1MiwxNTUsMTU5LDE2NiwxNzEsMTc1LDE3NywxNzksMTgwLDE4MCwxNzksMTc2LDE3NCwxNzEsMTY4LDE1OSwxNTEsMTQ2LDE0MSwxMzUsMTI5LDEyNCwxMTksMTE2LDExMywxMTBdLFsxMTUsMTE0LDExNiwxMTgsMTIwLDEyMiwxMjcsMTI5LDEzMiwxMzYsMTM5LDE0MSwxNDMsMTQ2LDE0OCwxNTEsMTUzLDE1NiwxNjAsMTY0LDE2NywxNzIsMTc0LDE3NiwxNzcsMTc2LDE3MywxNzAsMTY2LDE2MiwxNTksMTU3LDE1NCwxNTMsMTU0LDE1NSwxNTgsMTYxLDE2OSwxNzIsMTc0LDE3NiwxNzgsMTc4LDE3OCwxNzgsMTc1LDE3MiwxNjksMTYyLDE1NiwxNDksMTQ0LDE0MCwxMzQsMTI4LDEyMywxMTgsMTE1LDExMiwxMTBdLFsxMTMsMTEzLDExNCwxMTYsMTE4LDEyMCwxMjIsMTI1LDEyOSwxMzMsMTM2LDEzOCwxNDEsMTQzLDE0NiwxNDksMTUwLDE1MywxNTYsMTYwLDE2NSwxNzAsMTczLDE3NiwxNzYsMTc2LDE3MywxNzIsMTY5LDE2NSwxNjMsMTYwLDE1OCwxNTcsMTU4LDE1OSwxNjEsMTY2LDE3MCwxNzAsMTczLDE3NSwxNzYsMTc4LDE3NiwxNzMsMTcxLDE2OCwxNjQsMTU4LDE1MywxNDYsMTQwLDEzNywxMzIsMTI3LDEyMSwxMTcsMTEzLDExMSwxMTBdLFsxMTEsMTEyLDExMywxMTQsMTE2LDExOCwxMjAsMTIyLDEyNiwxMzAsMTMzLDEzNiwxMzksMTQyLDE0NSwxNDcsMTQ4LDE1MSwxNTUsMTU4LDE2MywxNjgsMTczLDE3NiwxNzcsMTc3LDE3NiwxNzQsMTcxLDE2OSwxNjYsMTY0LDE2MSwxNjEsMTYyLDE2NCwxNjUsMTY3LDE3MCwxNzAsMTcxLDE3MywxNzMsMTczLDE3MCwxNjgsMTY1LDE2MywxNjAsMTU1LDE0OSwxNDMsMTM4LDEzNCwxMzAsMTI1LDExOSwxMTYsMTEyLDExMCwxMDldLFsxMTAsMTEyLDExMywxMTMsMTE0LDExNiwxMTgsMTIwLDEyMywxMjcsMTMxLDEzNCwxMzcsMTQxLDE0MywxNDUsMTQ4LDE1MCwxNTQsMTU3LDE2MSwxNjYsMTcxLDE3NiwxNzgsMTc4LDE3OCwxNzYsMTc0LDE3MiwxNzAsMTY3LDE2NywxNjcsMTY2LDE2OCwxNzAsMTY5LDE2OCwxNjcsMTY4LDE2OCwxNjgsMTY4LDE2NywxNjUsMTYzLDE2MCwxNTYsMTUyLDE0NiwxNDAsMTM2LDEzMSwxMjgsMTIyLDExOCwxMTQsMTEwLDExMCwxMDldLFsxMDksMTEwLDExMSwxMTIsMTE0LDExNiwxMTgsMTE5LDEyMCwxMjQsMTI4LDEzMSwxMzYsMTQwLDE0MiwxNDUsMTQ3LDE1MCwxNTMsMTU3LDE2MCwxNjUsMTcwLDE3NCwxNzgsMTc5LDE3OSwxNzgsMTc4LDE3NiwxNzQsMTcxLDE3MCwxNzAsMTcwLDE2OCwxNjcsMTY2LDE2NCwxNjMsMTYxLDE2MiwxNjMsMTYzLDE2MywxNjEsMTYwLDE1NywxNTMsMTQ4LDE0MiwxMzYsMTMwLDEyNywxMjQsMTIwLDExNywxMTMsMTEwLDExMCwxMDldLFsxMDgsMTA5LDExMSwxMTIsMTE0LDExNiwxMTcsMTE4LDEyMCwxMjEsMTI1LDEyOCwxMzIsMTM4LDE0MiwxNDQsMTQ3LDE0OSwxNTMsMTU2LDE2MCwxNjQsMTcwLDE3NCwxNzgsMTgwLDE4MCwxNzksMTc5LDE3OCwxNzYsMTcyLDE3MCwxNzAsMTcwLDE2OCwxNjYsMTY0LDE2MiwxNjAsMTU3LDE1NiwxNTcsMTU4LDE1OCwxNTYsMTUzLDE1MSwxNDksMTQ0LDEzOSwxMzAsMTI3LDEyNCwxMjEsMTE4LDExNSwxMTIsMTEwLDExMCwxMDldLFsxMDgsMTA5LDExMSwxMTMsMTE0LDExNiwxMTcsMTE4LDExOSwxMjAsMTIyLDEyNiwxMzAsMTM1LDEzOSwxNDMsMTQ3LDE0OSwxNTIsMTU2LDE2MCwxNjQsMTY5LDE3MywxNzcsMTgwLDE4MCwxODAsMTgwLDE3OSwxNzgsMTc0LDE3MCwxNzAsMTY4LDE2NywxNjUsMTYzLDE2MSwxNTcsMTU0LDE1MywxNTIsMTUyLDE1MiwxNDksMTQ4LDE0NywxNDQsMTQwLDEzNCwxMjgsMTI1LDEyMiwxMTksMTE3LDExNCwxMTAsMTEwLDEwOSwxMDldLFsxMDcsMTA4LDExMSwxMTIsMTE0LDExNSwxMTYsMTE3LDExOSwxMjAsMTIxLDEyNCwxMjgsMTMzLDEzNywxNDEsMTQ1LDE0OSwxNTIsMTU2LDE2MCwxNjQsMTY4LDE3MiwxNzYsMTc5LDE4MCwxODAsMTgwLDE3OSwxNzgsMTc0LDE3MCwxNjgsMTY2LDE2NSwxNjMsMTYxLDE1OCwxNTQsMTUwLDE0OSwxNDgsMTQ2LDE0NSwxNDMsMTQzLDE0MywxNDAsMTM2LDEzMCwxMjYsMTIzLDEyMCwxMTgsMTE1LDExMiwxMTAsMTEwLDEwOSwxMDldLFsxMDcsMTA4LDExMCwxMTIsMTEzLDExMywxMTUsMTE2LDExOCwxMjAsMTIyLDEyNSwxMjgsMTMyLDEzNiwxNDAsMTQ1LDE0OCwxNTAsMTU1LDE2MCwxNjQsMTY3LDE3MCwxNzQsMTc3LDE3OSwxNzksMTc4LDE3NiwxNzYsMTczLDE2OSwxNjYsMTY0LDE2MywxNjEsMTU5LDE1NSwxNTIsMTQ4LDE0NSwxNDMsMTQxLDE0MCwxMzksMTM5LDEzOCwxMzYsMTMyLDEyOCwxMjQsMTIxLDExOCwxMTYsMTE0LDExMSwxMTAsMTEwLDEwOSwxMDhdLFsxMDcsMTA4LDEwOSwxMTEsMTEzLDExNCwxMTYsMTE3LDExOSwxMjAsMTIyLDEyNSwxMjgsMTMyLDEzNywxNDEsMTQ0LDE0NiwxNDksMTUyLDE1NywxNjIsMTY2LDE2OCwxNzEsMTczLDE3NSwxNzUsMTczLDE3MiwxNzIsMTcxLDE2OCwxNjUsMTYyLDE2MCwxNTgsMTU2LDE1MywxNDksMTQ1LDE0MiwxMzksMTM4LDEzNywxMzYsMTM1LDEzMywxMzEsMTI5LDEyNiwxMjIsMTE5LDExNywxMTQsMTEyLDExMCwxMTAsMTA5LDEwOCwxMDddLFsxMDgsMTA5LDExMCwxMTIsMTE0LDExNSwxMTYsMTE3LDExOSwxMjAsMTIyLDEyNiwxMjksMTMzLDEzNywxNDEsMTQzLDE0NiwxNDgsMTUxLDE1NSwxNjAsMTY0LDE2NywxNjgsMTY5LDE3MCwxNzAsMTY5LDE2OCwxNjcsMTY4LDE2NiwxNjMsMTYwLDE1OCwxNTUsMTUzLDE1MCwxNDcsMTQzLDE0MCwxMzcsMTM2LDEzNCwxMzMsMTMyLDEzMCwxMjksMTI3LDEyNSwxMjEsMTE4LDExNSwxMTIsMTEwLDExMCwxMTAsMTA4LDEwNywxMDddLFsxMDksMTEwLDExMSwxMTMsMTE1LDExNiwxMTcsMTE4LDEyMCwxMjEsMTIzLDEyNiwxMjksMTMzLDEzOCwxNDEsMTQzLDE0NiwxNDgsMTUwLDE1NSwxNTksMTYzLDE2NSwxNjYsMTY3LDE2OCwxNjgsMTY2LDE2NSwxNjQsMTYxLDE2MCwxNTksMTU4LDE1NSwxNTIsMTQ5LDE0NywxNDQsMTQxLDEzOCwxMzUsMTM0LDEzMiwxMzAsMTI5LDEyOCwxMjYsMTI0LDEyMiwxMjAsMTE3LDExMywxMTEsMTEwLDExMCwxMTAsMTA4LDEwNywxMDddLFsxMTAsMTExLDExMiwxMTMsMTE2LDExNywxMTgsMTE5LDEyMCwxMjIsMTI1LDEyNywxMzAsMTMzLDEzOCwxNDEsMTQzLDE0NiwxNDgsMTUwLDE1NCwxNTksMTYyLDE2MywxNjQsMTY2LDE2NiwxNjYsMTY1LDE2MywxNjEsMTU5LDE1NywxNTYsMTU1LDE1MywxNTAsMTQ2LDE0MywxNDAsMTM4LDEzNiwxMzMsMTMyLDEzMCwxMjksMTI4LDEyNSwxMjQsMTIyLDEyMCwxMTksMTE3LDExNCwxMTEsMTEwLDExMCwxMDksMTA4LDEwNywxMDddLFsxMTEsMTEyLDExMywxMTQsMTE2LDExNywxMTgsMTE5LDEyMCwxMjMsMTI1LDEyOCwxMzAsMTM0LDEzOSwxNDEsMTQ0LDE0NiwxNDgsMTUxLDE1NCwxNTgsMTYxLDE2NCwxNjYsMTY3LDE2OCwxNjYsMTY1LDE2MywxNjEsMTU4LDE1NiwxNTQsMTUyLDE1MCwxNDYsMTQyLDEzOSwxMzcsMTM1LDEzMywxMzEsMTMwLDEyOSwxMjgsMTI3LDEyNSwxMjMsMTIxLDEyMCwxMTgsMTE2LDExMywxMTEsMTEwLDExMCwxMDksMTA4LDEwNywxMDZdLFsxMTEsMTEyLDExMywxMTUsMTE3LDExOCwxMTgsMTIwLDEyMSwxMjQsMTI2LDEyOCwxMzEsMTM1LDEzOSwxNDIsMTQ0LDE0NiwxNDgsMTUxLDE1NSwxNjAsMTY0LDE2NSwxNjgsMTY5LDE2OSwxNjgsMTY2LDE2MywxNjAsMTU4LDE1NiwxNTMsMTUxLDE0OCwxNDUsMTQyLDEzOSwxMzcsMTM1LDEzMiwxMzAsMTI5LDEyNywxMjYsMTI1LDEyNCwxMjMsMTIwLDEyMCwxMTcsMTE2LDExNCwxMTIsMTEwLDExMCwxMDgsMTA3LDEwNiwxMDZdLFsxMTIsMTEzLDExNCwxMTYsMTE3LDExOCwxMTksMTIwLDEyMiwxMjQsMTI3LDEyOSwxMzIsMTM1LDEzOSwxNDIsMTQ0LDE0NiwxNDksMTUyLDE1NywxNjIsMTY3LDE2OSwxNzAsMTcwLDE3MCwxNjgsMTY1LDE2MywxNjEsMTU5LDE1NywxNTUsMTUxLDE0OCwxNDUsMTQxLDEzOSwxMzYsMTM0LDEzMiwxMzAsMTI4LDEyNywxMjYsMTI0LDEyMywxMjIsMTIwLDExOSwxMTcsMTE2LDExNCwxMTIsMTExLDEwOSwxMDcsMTA2LDEwNiwxMDVdLFsxMTMsMTE0LDExNSwxMTYsMTE3LDExOSwxMTksMTIwLDEyMiwxMjUsMTI3LDEyOSwxMzIsMTM1LDEzOSwxNDIsMTQ0LDE0NywxNDksMTU0LDE1OSwxNjQsMTY5LDE3MCwxNzAsMTcwLDE3MCwxNzAsMTY4LDE2NSwxNjMsMTYxLDE1OCwxNTUsMTUxLDE0OCwxNDUsMTQyLDEzOSwxMzcsMTM1LDEzMiwxMzEsMTI4LDEyNiwxMjUsMTI0LDEyMiwxMjEsMTIwLDExOSwxMTcsMTE1LDExMywxMTEsMTEwLDEwOSwxMDYsMTA1LDEwNSwxMDRdLFsxMTMsMTE0LDExNSwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMywxMjUsMTI3LDEzMCwxMzIsMTM1LDEzOSwxNDIsMTQ1LDE0OCwxNTAsMTU2LDE2MSwxNjYsMTcwLDE3MCwxNzAsMTcwLDE3MCwxNzAsMTY5LDE2NiwxNjMsMTYxLDE1OSwxNTUsMTUxLDE0OCwxNDYsMTQzLDE0MCwxMzgsMTM1LDEzNCwxMzIsMTMwLDEyNywxMjUsMTIzLDEyMSwxMjAsMTIwLDExOSwxMTYsMTE0LDExMiwxMTAsMTEwLDEwOCwxMDYsMTA1LDEwNCwxMDRdLFsxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMywxMjYsMTI4LDEzMCwxMzMsMTM2LDEzOSwxNDIsMTQ1LDE0OCwxNTIsMTU3LDE2MSwxNjYsMTY4LDE3MCwxNzAsMTcwLDE3MCwxNjgsMTY2LDE2NCwxNjMsMTYwLDE1OSwxNTUsMTUxLDE0OCwxNDYsMTQzLDE0MSwxMzgsMTM2LDEzNCwxMzIsMTMwLDEyOCwxMjUsMTIzLDEyMSwxMjAsMTIwLDExOCwxMTYsMTEzLDExMSwxMTAsMTEwLDEwOSwxMDYsMTA1LDEwNCwxMDRdLFsxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIxLDEyMywxMjYsMTI4LDEzMSwxMzQsMTM2LDEzOSwxNDIsMTQ1LDE0OSwxNTIsMTU3LDE2MSwxNjMsMTY0LDE2NiwxNjgsMTY3LDE2NiwxNjQsMTYzLDE2MSwxNjAsMTU4LDE1NiwxNTIsMTQ5LDE0NywxNDQsMTQzLDE0MSwxMzksMTM2LDEzNCwxMzIsMTMwLDEyOCwxMjUsMTIyLDEyMCwxMjAsMTE5LDExNywxMTUsMTEzLDExMCwxMTAsMTA5LDEwNywxMDYsMTA1LDEwNCwxMDRdLFsxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjUsMTI4LDEzMSwxMzQsMTM3LDEzOSwxNDIsMTQ1LDE0OSwxNTIsMTU2LDE1OSwxNTksMTYwLDE2MiwxNjIsMTYxLDE2MSwxNjAsMTU5LDE1OCwxNTcsMTU1LDE1MywxNTAsMTQ4LDE0NiwxNDUsMTQzLDE0MiwxNDAsMTM3LDEzNCwxMzEsMTI5LDEyNiwxMjQsMTIyLDEyMCwxMTksMTE3LDExNSwxMTMsMTExLDExMCwxMDksMTA5LDEwNywxMDYsMTA1LDEwNCwxMDRdLFsxMTQsMTE1LDExNiwxMTYsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjYsMTI5LDEzMiwxMzUsMTM3LDE0MCwxNDMsMTQ2LDE0OSwxNTIsMTU1LDE1NiwxNTcsMTU4LDE1OSwxNTksMTU5LDE1OCwxNTgsMTU3LDE1NSwxNTMsMTUxLDE1MCwxNDksMTQ3LDE0NiwxNDUsMTQ0LDE0MiwxNDEsMTM4LDEzNSwxMzIsMTI4LDEyNSwxMjIsMTIwLDExOCwxMTcsMTE1LDExMywxMTIsMTEwLDEwOSwxMDgsMTA4LDEwNiwxMDUsMTA1LDEwNCwxMDRdLFsxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMywxMjYsMTI5LDEzMiwxMzUsMTM4LDE0MCwxNDMsMTQ2LDE0OCwxNTEsMTUzLDE1NCwxNTYsMTU3LDE1NywxNTcsMTU3LDE1NiwxNTUsMTU0LDE1MiwxNTAsMTQ5LDE0OCwxNDcsMTQ2LDE0NSwxNDQsMTQyLDE0MSwxNDAsMTM5LDEzNiwxMzIsMTI5LDEyNSwxMjEsMTE4LDExNiwxMTUsMTEzLDExMSwxMTAsMTA5LDEwOCwxMDgsMTA3LDEwNiwxMDUsMTA0LDEwNCwxMDRdLFsxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTksMTIwLDEyMiwxMjYsMTMwLDEzMywxMzYsMTM4LDE0MSwxNDMsMTQ2LDE0OCwxNTAsMTUyLDE1NCwxNTUsMTU1LDE1NSwxNTUsMTU1LDE1NCwxNTIsMTUyLDE1MCwxNDgsMTQ3LDE0NiwxNDUsMTQ1LDE0MywxNDIsMTQxLDE0MCwxNDAsMTQwLDEzNywxMzMsMTI5LDEyNSwxMjAsMTE3LDExNSwxMTEsMTEwLDExMCwxMDksMTA4LDEwNywxMDcsMTA2LDEwNSwxMDUsMTA0LDEwNCwxMDNdLFsxMTEsMTEyLDExNCwxMTUsMTE2LDExNywxMTgsMTIwLDEyMiwxMjUsMTMxLDEzNCwxMzcsMTM5LDE0MiwxNDQsMTQ2LDE0OCwxNTAsMTUyLDE1MywxNTMsMTUzLDE1MywxNTMsMTUzLDE1MywxNTEsMTQ5LDE0NywxNDYsMTQ0LDE0NCwxNDMsMTQzLDE0MiwxNDEsMTQwLDE0MCwxNDAsMTQwLDEzOCwxMzQsMTMwLDEyMywxMjAsMTE4LDExMSwxMTAsMTEwLDExMCwxMDgsMTA3LDEwNiwxMDgsMTA1LDEwNSwxMDQsMTA0LDEwMywxMDNdLFsxMTEsMTEyLDExMywxMTUsMTE1LDExNiwxMTcsMTE5LDEyMSwxMjYsMTMxLDEzNSwxMzgsMTQwLDE0MiwxNDQsMTQ2LDE0OCwxNTAsMTUxLDE1MSwxNTEsMTUxLDE1MSwxNTEsMTUxLDE1MSwxNTAsMTQ4LDE0NiwxNDQsMTQyLDE0MSwxNDEsMTQyLDE0MSwxNDAsMTQwLDE0MCwxNDAsMTQwLDE0MCwxMzYsMTMyLDEyNiwxMjAsMTE1LDExMCwxMTAsMTEwLDEwOSwxMDcsMTA2LDEwNSwxMDcsMTA1LDEwNCwxMDQsMTA0LDEwMywxMDNdLFsxMTIsMTEzLDExMywxMTQsMTE1LDExNiwxMTcsMTE5LDEyMiwxMjcsMTMyLDEzNSwxMzksMTQxLDE0MywxNDUsMTQ3LDE0OSwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNDksMTQ3LDE0NCwxNDIsMTQxLDE0MCwxNDAsMTQwLDE0MCwxNDAsMTQwLDE0MCwxNDAsMTQwLDE0MCwxMzcsMTMzLDEyOCwxMjAsMTE3LDExMCwxMTAsMTEwLDEwOCwxMDYsMTA1LDEwNSwxMDYsMTA1LDEwNCwxMDQsMTAzLDEwMywxMDNdLFsxMTIsMTEzLDExNCwxMTQsMTE2LDExNywxMTgsMTIwLDEyMiwxMjgsMTMyLDEzNiwxMzksMTQxLDE0NCwxNDYsMTQ3LDE0OSwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNDksMTQ2LDE0MywxNDEsMTQwLDE0MCwxMzksMTM5LDEzOSwxNDAsMTQwLDE0MCwxNDAsMTQwLDE0MCwxMzcsMTMzLDEyOSwxMjEsMTE4LDExMCwxMTAsMTA5LDEwNywxMDYsMTA1LDEwNSwxMDUsMTA0LDEwNCwxMDMsMTAzLDEwMywxMDJdLFsxMTIsMTE0LDExNCwxMTUsMTE2LDExNywxMTksMTIwLDEyMiwxMjgsMTMzLDEzNiwxNDAsMTQyLDE0NCwxNDYsMTQ4LDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNDgsMTQ1LDE0MiwxNDAsMTM4LDEzOCwxMzgsMTM3LDEzOCwxNDAsMTQwLDE0MCwxNDAsMTQwLDE0MCwxMzcsMTM0LDEzMCwxMjIsMTE4LDExMCwxMTAsMTA4LDEwNiwxMDUsMTAzLDEwNCwxMDQsMTA0LDEwNCwxMDMsMTAzLDEwMiwxMDJdLFsxMTMsMTE0LDExNSwxMTYsMTE2LDExNywxMTgsMTIwLDEyMywxMjksMTMzLDEzNywxNDAsMTQyLDE0NCwxNDYsMTQ5LDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNDcsMTQzLDE0MSwxMzksMTM3LDEzNiwxMzYsMTM1LDEzNiwxMzgsMTQwLDE0MCwxNDAsMTQwLDEzOSwxMzYsMTM0LDEzMCwxMjMsMTE5LDExMywxMDksMTA4LDEwNiwxMDQsMTAzLDEwNCwxMDQsMTA0LDEwMywxMDMsMTAyLDEwMiwxMDFdLFsxMTQsMTE1LDExNSwxMTYsMTE3LDExOCwxMTgsMTIwLDEyMywxMjksMTMzLDEzNywxNDAsMTQzLDE0NSwxNDcsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE0OCwxNDUsMTQyLDEzOSwxMzgsMTM2LDEzNSwxMzQsMTM0LDEzNCwxMzYsMTM4LDEzNywxMzgsMTM5LDEzNywxMzQsMTMyLDEyNSwxMjIsMTE3LDExNCwxMDksMTA3LDEwNSwxMDMsMTAyLDEwNCwxMDQsMTAzLDEwMywxMDIsMTAyLDEwMSwxMDFdLFsxMTQsMTE1LDExNiwxMTcsMTE3LDExOSwxMTgsMTIwLDEyMywxMjgsMTMyLDEzNiwxMzksMTQyLDE0NSwxNDgsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE0NywxNDQsMTQxLDEzOSwxMzYsMTM1LDEzNCwxMzMsMTMyLDEzMiwxMzQsMTM0LDEzNCwxMzQsMTM1LDEzMywxMzEsMTI4LDEyNCwxMjAsMTE2LDExMywxMTAsMTA3LDEwNCwxMDIsMTAyLDEwMywxMDMsMTAzLDEwMiwxMDIsMTAyLDEwMSwxMDBdLFsxMTUsMTE2LDExNiwxMTcsMTE4LDExOSwxMTksMTIwLDEyNCwxMjgsMTMyLDEzNiwxMzksMTQyLDE0NSwxNDgsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTQ5LDE0NiwxNDMsMTQwLDEzOCwxMzUsMTM0LDEzMywxMzEsMTMxLDEzMSwxMzEsMTMxLDEzMSwxMzEsMTMwLDEyNywxMjQsMTIyLDExOSwxMTcsMTE1LDExMiwxMDksMTA2LDEwNCwxMDEsMTAyLDEwMywxMDMsMTAyLDEwMiwxMDIsMTAxLDEwMCwxMDBdLFsxMTUsMTE2LDExNywxMTgsMTE4LDExOSwxMjAsMTIzLDEyNSwxMjgsMTMxLDEzNSwxMzgsMTQxLDE0NSwxNDgsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNTAsMTQ3LDE0NSwxNDIsMTM5LDEzNywxMzQsMTMyLDEzMSwxMzAsMTI5LDEyOCwxMjgsMTI4LDEyOCwxMjgsMTI2LDEyMywxMjEsMTE5LDExNiwxMTQsMTEyLDExMCwxMDgsMTA1LDEwMywxMDEsMTAzLDEwMywxMDMsMTAyLDEwMiwxMDEsMTAwLDEwMCwxMDBdLFsxMTYsMTE3LDExOCwxMTgsMTE5LDEyMCwxMjIsMTIzLDEyNSwxMjgsMTMxLDEzNCwxMzcsMTQxLDE0NSwxNDgsMTQ5LDE1MCwxNTAsMTUwLDE1MCwxNTAsMTUwLDE1MCwxNDgsMTQ1LDE0MywxNDEsMTM4LDEzNSwxMzMsMTMwLDEyOSwxMjgsMTI3LDEyNiwxMjUsMTI1LDEyNSwxMjQsMTIzLDEyMCwxMTgsMTE2LDExNCwxMTEsMTA5LDEwNywxMDYsMTA0LDEwMiwxMDAsMTAxLDEwMSwxMDIsMTAyLDEwMSwxMDAsMTAwLDEwMCwxMDBdLFsxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjMsMTI0LDEyNiwxMjgsMTMwLDEzMywxMzcsMTQwLDE0NCwxNDUsMTQ3LDE0OCwxNDksMTUwLDE0OSwxNDksMTQ3LDE0NiwxNDQsMTQxLDEzOSwxMzYsMTMzLDEzMSwxMjksMTI4LDEyNywxMjYsMTI1LDEyNCwxMjMsMTIzLDEyMiwxMjEsMTIwLDExOCwxMTYsMTE0LDExMiwxMDgsMTA3LDEwNSwxMDMsMTAyLDEwMCwxMDAsMTAwLDEwMCwxMDEsMTAxLDEwMCwxMDAsMTAwLDEwMCwxMDBdLFsxMTcsMTE4LDExOSwxMTksMTIwLDEyMSwxMjMsMTI0LDEyNiwxMjgsMTI5LDEzMSwxMzUsMTM5LDE0MiwxNDMsMTQ1LDE0NiwxNDcsMTQ3LDE0NywxNDYsMTQ0LDE0MiwxNDAsMTM4LDEzNSwxMzMsMTMwLDEyOCwxMjcsMTI2LDEyNSwxMjQsMTIzLDEyMiwxMjEsMTIwLDExOSwxMTgsMTE3LDExNSwxMTQsMTEyLDExMCwxMDYsMTA1LDEwMiwxMDEsMTAwLDEwMCwxMDAsMTAwLDEwMCwxMDAsMTAwLDEwMCw5OSw5OSw5OSw5OV0sWzExNywxMTgsMTE5LDEyMCwxMjAsMTIxLDEyMywxMjQsMTI1LDEyNiwxMjgsMTI5LDEzMiwxMzcsMTQwLDE0MiwxNDMsMTQzLDE0NCwxNDQsMTQ0LDE0MywxNDEsMTM5LDEzNywxMzUsMTMzLDEzMCwxMjgsMTI3LDEyNiwxMjUsMTIzLDEyMiwxMjEsMTIwLDExOSwxMTcsMTE2LDExNSwxMTQsMTEyLDExMSwxMDgsMTA3LDEwNSwxMDAsMTAwLDEwMCwxMDAsMTAwLDEwMCwxMDAsOTksOTksOTksOTksOTksOTksOTksOThdLFsxMTYsMTE3LDExOCwxMjAsMTIwLDEyMSwxMjIsMTIzLDEyNCwxMjUsMTI2LDEyOCwxMzAsMTM0LDEzOSwxNDAsMTQxLDE0MSwxNDEsMTQxLDE0MSwxNDAsMTM4LDEzNiwxMzQsMTMzLDEzMSwxMjksMTI3LDEyNSwxMjQsMTIzLDEyMiwxMjAsMTE5LDExOCwxMTcsMTE2LDExNCwxMTIsMTExLDEwOCwxMDksMTA2LDEwNiwxMDAsMTAwLDEwMCwxMDAsMTAwLDk5LDk5LDk5LDk5LDk5LDk5LDk5LDk4LDk4LDk4LDk3XSxbMTE0LDExNSwxMTYsMTE3LDExOSwxMTksMTIwLDEyMSwxMjIsMTIzLDEyNSwxMjcsMTI5LDEzMywxMzYsMTM0LDEzNCwxMzYsMTM4LDEzOCwxMzcsMTM3LDEzNSwxMzMsMTMyLDEzMCwxMjksMTI3LDEyNSwxMjQsMTIyLDEyMSwxMjAsMTE5LDExNywxMTYsMTE1LDExNCwxMTIsMTEwLDEwOSwxMDgsMTA3LDEwNSwxMDUsMTAwLDEwMCwxMDAsMTAwLDk5LDk5LDk5LDk4LDk4LDk4LDk4LDk4LDk3LDk3LDk3LDk3XSxbMTEyLDExMywxMTQsMTE1LDExNiwxMTYsMTE3LDExOSwxMjAsMTIyLDEyNCwxMjYsMTI3LDEyOSwxMjksMTI4LDEyNywxMjksMTMyLDEzMywxMzMsMTMzLDEzMywxMzEsMTI5LDEyNywxMjYsMTI1LDEyNCwxMjIsMTIxLDExOSwxMTgsMTE3LDExNiwxMTQsMTEzLDExMiwxMTAsMTA5LDEwOCwxMDYsMTA2LDEwNSwxMDAsMTAwLDEwMCw5OCw5OCw5OCw5OCw5OCw5OCw5Nyw5Nyw5Nyw5Nyw5Nyw5Nyw5Nyw5Nl0sWzEwOSwxMTEsMTEyLDExMiwxMTMsMTEzLDExMywxMTQsMTE2LDExOSwxMjEsMTIzLDEyNCwxMjUsMTI0LDEyMywxMjMsMTIzLDEyNSwxMjcsMTI5LDEyOSwxMjgsMTI4LDEyNywxMjUsMTI0LDEyMywxMjIsMTIxLDExOSwxMTgsMTE3LDExNiwxMTQsMTEzLDExMiwxMTAsMTA5LDEwOCwxMDcsMTA2LDEwNSwxMDAsMTAwLDEwMCw5Nyw5Nyw5Nyw5Nyw5Nyw5Nyw5Nyw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Nl0sWzEwNiwxMDcsMTA4LDEwOCwxMDksMTEwLDExMCwxMTIsMTEzLDExNCwxMTcsMTE5LDEyMCwxMjEsMTE5LDExNywxMTcsMTE3LDExOCwxMjAsMTIzLDEyNCwxMjUsMTI1LDEyNSwxMjMsMTIxLDEyMCwxMjAsMTE5LDExOCwxMTcsMTE2LDExNSwxMTQsMTEzLDExMSwxMDksMTA5LDEwNywxMDYsMTA1LDEwMCwxMDAsMTAwLDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2XSxbMTA0LDEwNSwxMDUsMTA2LDEwNiwxMDcsMTA4LDEwOCwxMDksMTA5LDExMSwxMTUsMTE2LDExNCwxMTMsMTEyLDExMSwxMTAsMTExLDExMywxMTYsMTE5LDEyMiwxMjIsMTIyLDEyMSwxMjAsMTE5LDExOCwxMTgsMTE3LDExNiwxMTUsMTE0LDExMywxMTIsMTExLDEwOCwxMDgsMTA2LDEwNSwxMDAsMTAwLDEwMCw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Nl0sWzEwMiwxMDMsMTAzLDEwNCwxMDQsMTA1LDEwNiwxMDYsMTA3LDEwOCwxMDksMTExLDExMiwxMTAsMTA5LDEwOCwxMDgsMTA4LDEwOCwxMDksMTEwLDExMiwxMTYsMTE3LDExNywxMTgsMTE4LDExOCwxMTcsMTE2LDExNiwxMTUsMTE0LDExMywxMTIsMTExLDExMCwxMDcsMTA3LDEwNSwxMDAsMTAwLDEwMCw5Nyw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Nl0sWzEwMSwxMDIsMTAzLDEwMywxMDQsMTA1LDEwNSwxMDYsMTA2LDEwNywxMDgsMTA5LDEwOSwxMDcsMTA2LDEwNiwxMDUsMTA1LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTMsMTE0LDExNSwxMTUsMTE1LDExNCwxMTMsMTEyLDExMSwxMTAsMTA4LDEwOCwxMDYsMTA1LDEwMCwxMDAsMTAwLDk3LDk3LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2LDk2XSxbMTAwLDEwMSwxMDIsMTAyLDEwMywxMDMsMTA0LDEwNCwxMDUsMTA2LDEwNiwxMDcsMTA2LDEwNiwxMDYsMTA1LDEwNSwxMDQsMTAzLDEwMywxMDQsMTA1LDEwNywxMDgsMTEwLDExMSwxMTEsMTEyLDExMiwxMTMsMTEzLDExMiwxMTEsMTEwLDEwOCwxMDcsMTA2LDEwNSwxMDAsMTAwLDEwMCw5OCw5Nyw5Nyw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Nl0sWzEwMCwxMDEsMTAxLDEwMiwxMDIsMTAzLDEwMywxMDQsMTA0LDEwNSwxMDUsMTA1LDEwNSwxMDYsMTA1LDEwNSwxMDQsMTAzLDEwMiwxMDEsMTAyLDEwMywxMDQsMTA2LDEwNywxMTAsMTExLDExMSwxMTEsMTEyLDExMiwxMTIsMTEwLDEwNywxMDcsMTA2LDEwNSwxMDIsMTAwLDEwMCw5OSw5OCw5Nyw5Nyw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5Niw5NV0sWzk5LDEwMCwxMDEsMTAyLDEwMiwxMDMsMTAzLDEwMywxMDQsMTA0LDEwNCwxMDQsMTAzLDEwNCwxMDQsMTA0LDEwNCwxMDIsMTAxLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA3LDExMCwxMTEsMTExLDExMSwxMTEsMTExLDExMSwxMDgsMTA2LDEwNSwxMDUsMTAyLDEwMSwxMDAsOTksOTksOTgsOTcsOTcsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTUsOTVdLFs5OSwxMDAsMTAwLDEwMSwxMDEsMTAyLDEwMiwxMDIsMTAzLDEwMywxMDMsMTAzLDEwMiwxMDMsMTAzLDEwNCwxMDMsMTAyLDEwMSwxMDEsMTAxLDEwMiwxMDMsMTA0LDEwNiwxMDksMTEwLDExMSwxMTEsMTExLDExMCwxMTAsMTA3LDEwNSwxMDMsMTA0LDEwMCwxMDAsOTksOTksOTgsOTgsOTcsOTcsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTYsOTUsOTUsOTUsOTUsOTUsOTUsOTVdLFs5OSwxMDAsMTAwLDEwMCwxMDEsMTAxLDEwMSwxMDIsMTAyLDEwMywxMDIsMTAyLDEwMSwxMDIsMTAyLDEwMywxMDMsMTAxLDEwMSwxMDAsMTAxLDEwMSwxMDIsMTAzLDEwNSwxMDksMTEwLDExMCwxMTEsMTEwLDExMCwxMDksMTA2LDEwNSwxMDAsMTAyLDEwMCw5OSw5OSw5OSw5OCw5OCw5Nyw5Nyw5Niw5Niw5Niw5Niw5Niw5Niw5NSw5NSw5NSw5NSw5NSw5NSw5NSw5NSw5NSw5NSw5NF0sWzk5LDk5LDk5LDk5LDEwMCwxMDAsMTAxLDEwMSwxMDIsMTAyLDEwMSwxMDEsMTAxLDEwMSwxMDEsMTAyLDEwMiwxMDEsMTAwLDEwMCwxMDEsMTAxLDEwMSwxMDMsMTA0LDEwNywxMDksMTA5LDExMCwxMTAsMTA5LDEwOCwxMDUsMTAyLDEwMCwxMDAsOTksOTksOTksOTgsOTgsOTgsOTcsOTYsOTYsOTYsOTYsOTYsOTUsOTUsOTUsOTUsOTUsOTUsOTUsOTQsOTQsOTQsOTQsOTQsOTRdLFs5OCw5OSw5OSw5OSw5OSwxMDAsMTAwLDEwMSwxMDEsMTAyLDEwMSwxMDAsMTAwLDEwMCwxMDEsMTAxLDEwMSwxMDAsMTAwLDEwMCwxMDAsMTAxLDEwMSwxMDEsMTAzLDEwNiwxMDcsMTA5LDEwOSwxMDksMTA5LDEwNywxMDQsMTAxLDEwMCw5OSw5OSw5OSw5OCw5OCw5OCw5Nyw5Niw5Niw5Niw5Niw5NSw5NSw5NSw5NSw5NSw5NSw5NSw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NF0sWzk4LDk4LDk4LDk5LDk5LDk5LDEwMCwxMDAsMTAxLDEwMSwxMDAsMTAwLDk5LDk5LDEwMCwxMDAsMTAwLDEwMCwxMDAsMTAwLDEwMCwxMDEsMTAxLDEwMSwxMDIsMTA1LDEwNiwxMDksMTA4LDEwOSwxMDcsMTA1LDEwMiwxMDAsMTAwLDk5LDk5LDk4LDk4LDk4LDk3LDk2LDk2LDk2LDk2LDk1LDk1LDk1LDk1LDk1LDk1LDk0LDk0LDk0LDk0LDk0LDk0LDk0LDk0LDk0LDk0XSxbOTcsOTgsOTgsOTgsOTksOTksOTksMTAwLDEwMCwxMDAsMTAwLDEwMCw5OSw5OSw5OSwxMDAsMTAwLDEwMCwxMDAsMTAwLDEwMCwxMDAsMTAxLDEwMSwxMDEsMTAzLDEwNCwxMDUsMTA2LDEwNSwxMDQsMTAxLDEwMCwxMDAsOTksOTksOTgsOTgsOTcsOTcsOTcsOTYsOTYsOTYsOTUsOTUsOTUsOTUsOTUsOTQsOTQsOTQsOTQsOTQsOTQsOTQsOTQsOTQsOTQsOTQsOTRdLFs5Nyw5Nyw5Nyw5OCw5OCw5OSw5OSw5OSwxMDAsMTAwLDEwMCw5OSw5OSw5OSw5OSw5OSwxMDAsMTAwLDEwMCwxMDAsMTAwLDEwMCwxMDEsMTAxLDEwMCwxMDAsMTAwLDEwMCwxMDAsMTAwLDEwMCwxMDAsMTAwLDEwMCw5OSw5OSw5OCw5Nyw5Nyw5Nyw5Niw5Niw5Niw5NSw5NSw5NSw5NSw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NCw5NF1dLCJjb2xvcmJhciI6eyJ0aXRsZSI6InZvbGNhbm8ifSwiY29sb3JzY2FsZSI6W1swLCIjNDQwMTU0Il0sWzAuMTExMTExMTExMTExMTExLCIjNDgyODc4Il0sWzAuMjIyMjIyMjIyMjIyMjIyLCIjM0U0QTg5Il0sWzAuMzMzMzMzMzMzMzMzMzMzLCIjMzE2ODhFIl0sWzAuNDQ0NDQ0NDQ0NDQ0NDQ0LCIjMjY4MjhFIl0sWzAuNTU1NTU1NTU1NTU1NTU2LCIjMUY5RTg5Il0sWzAuNjY2NjY2NjY2NjY2NjY3LCIjMzVCNzc5Il0sWzAuNzc3Nzc3Nzc3Nzc3Nzc4LCIjNkRDRDU5Il0sWzAuODg4ODg4ODg4ODg4ODg5LCIjQjRERTJDIl0sWzEsIiNGREU3MjUiXV19XSwibGF5b3V0Ijp7InNjZW5lIjp7InpheGlzIjp7InRpdGxlIjoidm9sY2FubyJ9fSwibWFyZ2luIjp7ImIiOjQwLCJsIjo2MCwidCI6MjUsInIiOjEwfX0sInVybCI6bnVsbCwid2lkdGgiOm51bGwsImhlaWdodCI6bnVsbCwic291cmNlIjoiQSIsImNvbmZpZyI6eyJtb2RlQmFyQnV0dG9uc1RvUmVtb3ZlIjpbInNlbmREYXRhVG9DbG91ZCJdfSwiYmFzZV91cmwiOiJodHRwczovL3Bsb3QubHkifSwiZXZhbHMiOltdLCJqc0hvb2tzIjpbXX08L3NjcmlwdD4NCjxzY3JpcHQgdHlwZT0iYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmciIGRhdGEtZm9yPSJodG1sd2lkZ2V0LTQxMTQiPnsidmlld2VyIjp7IndpZHRoIjoiMTAwJSIsImhlaWdodCI6NDAwLCJwYWRkaW5nIjo1LCJmaWxsIjp0cnVlfSwiYnJvd3NlciI6eyJ3aWR0aCI6IjEwMCUiLCJoZWlnaHQiOjQwMCwicGFkZGluZyI6NSwiZmlsbCI6dHJ1ZX19PC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+DQo=';
                        }
                        debugger;
                        if (!(options.type == 4) || (options.type == 32)) {
                            if (payloadBase64) {
                                this.injectCodeFromPayload(payloadBase64);
                            }
                        }
                        this.onResizing(options.viewport);
                    };
                    Visual.prototype.onResizing = function (finalViewport) {
                    };
                    Visual.prototype.injectCodeFromPayload = function (payloadBase64) {
                        PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.ResetInjector();
                        var el = document.createElement('html');
                        el.innerHTML = window.atob(payloadBase64);
                        var head = el.getElementsByTagName('head')[0];
                        var body = el.getElementsByTagName('body')[0];
                        // update the header data only on the 1st update
                        if (this.headNodes.length == 0) {
                            this.headNodes = PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.ParseElement(head, document.head);
                        }
                        while (this.bodyNodes.length > 0) {
                            var tempNode = this.bodyNodes.pop();
                            document.body.removeChild(tempNode);
                        }
                        this.bodyNodes = PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.ParseElement(body, document.body);
                        var intervalVar = window.setInterval(function () {
                            if (PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.injectorReady()) {
                                window.clearInterval(intervalVar);
                                console.log('Render');
                                if (window.hasOwnProperty('HTMLWidgets')) {
                                    window['HTMLWidgets'].staticRender();
                                }
                            }
                        }, 100);
                    };
                    /**
                     * This function gets called by the update function above. You should read the new values of the properties into
                     * your settings object so you can use the new value in the enumerateObjectInstances function below.
                     *
                     * Below is a code snippet demonstrating how to expose a single property called "lineColor" from the object called "settings"
                     * This object and property should be first defined in the capabilities.json file in the objects section.
                     * In this code we get the property value from the objects (and have a default value in case the property is undefined)
                     */
                    Visual.prototype.updateObjects = function (objects) {
                        /*this.settings = <VisualSettings>{
                            lineColor: getFillValue(object, 'settings', 'lineColor', "#333333")
                        };*/
                    };
                    /**
                     * This function gets called for each of the objects defined in the capabilities files and allows you to select which of the
                     * objects and properties you want to expose to the users in the property pane.
                     *
                     * Below is a code snippet for a case where you want to expose a single property called "lineColor" from the object called "settings"
                     * This object and property should be first defined in the capabilities.json file in the objects section.
                     */
                    Visual.prototype.enumerateObjectInstances = function (options) {
                        var objectName = options.objectName;
                        var objectEnumeration = [];
                        /*switch( objectName ){
                            case 'settings':
                                objectEnumeration.push({
                                    objectName: objectName,
                                    properties: {
                                        lineColor: this.settings.lineColor,
                                     },
                                    selector: null
                                });
                                break;
                        };*/
                        return objectEnumeration;
                    };
                    return Visual;
                }());
                PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.Visual = Visual;
            })(PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 = visual.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 || (visual.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 = {}));
        })(visual = extensibility.visual || (extensibility.visual = {}));
    })(extensibility = powerbi.extensibility || (powerbi.extensibility = {}));
})(powerbi || (powerbi = {}));
var powerbi;
(function (powerbi) {
    var visuals;
    (function (visuals) {
        var plugins;
        (function (plugins) {
            plugins.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725 = {
                name: 'PBI_CV_E67F6187_8266_4C40_822B_369EDD127725',
                displayName: 'RPlotSmooth',
                class: 'Visual',
                version: '1.0.0',
                apiVersion: '1.4.0',
                create: function (options) { return new powerbi.extensibility.visual.PBI_CV_E67F6187_8266_4C40_822B_369EDD127725.Visual(options); },
                custom: true
            };
        })(plugins = visuals.plugins || (visuals.plugins = {}));
    })(visuals = powerbi.visuals || (powerbi.visuals = {}));
})(powerbi || (powerbi = {}));
//# sourceMappingURL=visual.js.map